<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-week12-answer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/18/week12-answer/" class="article-date">
  <time class="dt-published" datetime="2023-01-18T04:15:03.000Z" itemprop="datePublished">2023-01-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/01/18/week12-answer/">week12-answer</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-宝物筛选-https-www-luogu-com-cn-problem-P1776"><a href="#1-宝物筛选-https-www-luogu-com-cn-problem-P1776" class="headerlink" title="1.([宝物筛选]https://www.luogu.com.cn/problem/P1776)"></a>1.([宝物筛选]<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1776">https://www.luogu.com.cn/problem/P1776</a>)</h2><h3 id="题目给出多种宝物以及各种宝物的价值、重量和数量；要求一定载重下收集宝物的最大价值"><a href="#题目给出多种宝物以及各种宝物的价值、重量和数量；要求一定载重下收集宝物的最大价值" class="headerlink" title="题目给出多种宝物以及各种宝物的价值、重量和数量；要求一定载重下收集宝物的最大价值"></a>题目给出多种宝物以及各种宝物的价值、重量和数量；要求一定载重下收集宝物的最大价值</h3><h3 id="——————————————————"><a href="#——————————————————" class="headerlink" title="——————————————————-"></a>——————————————————-</h3><h3 id="先通过二进制优化，再用动态规划即可解决"><a href="#先通过二进制优化，再用动态规划即可解决" class="headerlink" title="先通过二进制优化，再用动态规划即可解决"></a>先通过二进制优化，再用动态规划即可解决</h3><h3 id="进行二进制优化可能会使宝物数量大大增加，因此需要将数组开大（1000005）。"><a href="#进行二进制优化可能会使宝物数量大大增加，因此需要将数组开大（1000005）。" class="headerlink" title="进行二进制优化可能会使宝物数量大大增加，因此需要将数组开大（1000005）。"></a>进行二进制优化可能会使宝物数量大大增加，因此需要将数组开大（1000005）。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,W;</span><br><span class="line"><span class="type">int</span> num=<span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> v[<span class="number">105</span>],w[<span class="number">105</span>],m[<span class="number">105</span>];</span><br><span class="line"><span class="type">int</span> p[<span class="number">1000005</span>],q[<span class="number">1000005</span>];</span><br><span class="line"><span class="type">int</span> f[<span class="number">1000005</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">package</span><span class="params">(<span class="type">int</span> v,<span class="type">int</span> w,<span class="type">int</span> m)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(m&gt;=i) &#123;</span><br><span class="line">		p[num]=v*i;q[num]=w*i;</span><br><span class="line">		num++;</span><br><span class="line">		m-=i;</span><br><span class="line">		i*=<span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(m) &#123;</span><br><span class="line">		p[num]=v*m;q[num++]=w*m;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;W;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">		cin&gt;&gt;v[i]&gt;&gt;w[i]&gt;&gt;m[i];</span><br><span class="line">		<span class="built_in">package</span>(v[i],w[i],m[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//for(int i=1; i&lt;num; i++) cout&lt;&lt;p[i]&lt;&lt;&quot; &quot;&lt;&lt;q[i]&lt;&lt;endl;</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;num; i++) </span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=W; j&gt;=q[i]; j--) </span><br><span class="line">			f[j]=<span class="built_in">max</span>(f[j],f[j-q[i]]+p[i]);</span><br><span class="line">	cout&lt;&lt;f[W];</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-尴尬的数字"><a href="#2-尴尬的数字" class="headerlink" title="2.尴尬的数字"></a>2.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1555">尴尬的数字</a></h2><h3 id="题目给出一个二进制数和一个三进制数，两个数各有一位是错的，要求出正确的数的十进制数；"><a href="#题目给出一个二进制数和一个三进制数，两个数各有一位是错的，要求出正确的数的十进制数；" class="headerlink" title="题目给出一个二进制数和一个三进制数，两个数各有一位是错的，要求出正确的数的十进制数；"></a>题目给出一个二进制数和一个三进制数，两个数各有一位是错的，要求出正确的数的十进制数；</h3><h3 id="—————————————————————————"><a href="#—————————————————————————" class="headerlink" title="—————————————————————————"></a>—————————————————————————</h3><h3 id="通过列举二进制数所有可能出错的情况，将每种情况下的数与所给的三进制数进行比较（在三进制中比较），只相差一位的就是正确答案。"><a href="#通过列举二进制数所有可能出错的情况，将每种情况下的数与所给的三进制数进行比较（在三进制中比较），只相差一位的就是正确答案。" class="headerlink" title="通过列举二进制数所有可能出错的情况，将每种情况下的数与所给的三进制数进行比较（在三进制中比较），只相差一位的就是正确答案。"></a>通过列举二进制数所有可能出错的情况，将每种情况下的数与所给的三进制数进行比较（在三进制中比较），只相差一位的就是正确答案。</h3><h3 id="列举每一位数出错的情况————-gt-二进制数转化为十进制数再转化为三进制数————-gt-比较两个三进制数"><a href="#列举每一位数出错的情况————-gt-二进制数转化为十进制数再转化为三进制数————-gt-比较两个三进制数" class="headerlink" title="列举每一位数出错的情况————&gt;二进制数转化为十进制数再转化为三进制数————&gt;比较两个三进制数"></a>列举每一位数出错的情况————&gt;二进制数转化为十进制数再转化为三进制数————&gt;比较两个三进制数</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">string a,b;</span><br><span class="line"><span class="type">int</span> d[<span class="number">1000005</span>];</span><br><span class="line"><span class="type">int</span> n1,n2;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">	</span><br><span class="line">	string c=a;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=a.<span class="built_in">length</span>()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">		string c=a;   <span class="comment">//字符串数组c储存可能正确的二进制数</span></span><br><span class="line">		n1=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">&#x27;1&#x27;</span>) c[i]=<span class="string">&#x27;0&#x27;</span>;   <span class="comment">//替换出错数字</span></span><br><span class="line">		<span class="keyword">else</span> c[i]=<span class="string">&#x27;1&#x27;</span>;  </span><br><span class="line">		<span class="comment">//cout&lt;&lt;c&lt;&lt;endl;</span></span><br><span class="line">		<span class="type">int</span> num=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=c.<span class="built_in">length</span>()<span class="number">-1</span>; j&gt;=<span class="number">0</span>; j--) &#123;   <span class="comment">//转化为十进制数</span></span><br><span class="line">			<span class="type">int</span> x=(<span class="type">int</span>)c[j]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">			n1+=x*<span class="built_in">pow</span>(<span class="number">2</span>,c.<span class="built_in">length</span>()<span class="number">-1</span>-j);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//cout&lt;&lt;n1&lt;&lt;endl;</span></span><br><span class="line">		<span class="type">int</span> n3=n1;                     <span class="comment">//为简便用数组储存三进制数</span></span><br><span class="line">		<span class="type">int</span> y=b.<span class="built_in">length</span>()<span class="number">-1</span>;<span class="comment">//2</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=y;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">			<span class="type">int</span> nn=n1/<span class="built_in">pow</span>(<span class="number">3</span>,j);</span><br><span class="line">			n1-=nn*<span class="built_in">pow</span>(<span class="number">3</span>,j);</span><br><span class="line">			d[y-j]=nn;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//for(int j=0;j&lt;=y;j++) cout&lt;&lt;d[j];</span></span><br><span class="line">		<span class="comment">//cout&lt;&lt;endl;</span></span><br><span class="line">		<span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=y;j++)&#123;          <span class="comment">//比较</span></span><br><span class="line">			<span class="type">int</span> hh=(<span class="type">int</span>)b[j]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">			<span class="keyword">if</span>(d[j]!=hh) ans++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(ans==<span class="number">1</span>) cout&lt;&lt;n3&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-小卡和质数"><a href="#3-小卡和质数" class="headerlink" title="3.小卡和质数"></a>3.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P8845">小卡和质数</a></h2><h3 id="题目给出第x个质数和第y个质数，要求这两个质数异或值是否为-1-；"><a href="#题目给出第x个质数和第y个质数，要求这两个质数异或值是否为-1-；" class="headerlink" title="题目给出第x个质数和第y个质数，要求这两个质数异或值是否为 1 ；"></a>题目给出第x个质数和第y个质数，要求这两个质数异或值是否为 1 ；</h3><h3 id="——————————————————–"><a href="#——————————————————–" class="headerlink" title="——————————————————–"></a>——————————————————–</h3><h3 id="怎么样的两个数异或值为-1-呢？显然是二进制下只有末尾不同的数，要满足这个条件，需要两数奇偶性不同（思考这个条件是因为考虑到质数特殊的奇偶性质），则两个质数为一奇一偶。"><a href="#怎么样的两个数异或值为-1-呢？显然是二进制下只有末尾不同的数，要满足这个条件，需要两数奇偶性不同（思考这个条件是因为考虑到质数特殊的奇偶性质），则两个质数为一奇一偶。" class="headerlink" title="怎么样的两个数异或值为 1 呢？显然是二进制下只有末尾不同的数，要满足这个条件，需要两数奇偶性不同（思考这个条件是因为考虑到质数特殊的奇偶性质），则两个质数为一奇一偶。"></a>怎么样的两个数异或值为 1 呢？显然是二进制下只有末尾不同的数，要满足这个条件，需要两数奇偶性不同（思考这个条件是因为考虑到质数特殊的奇偶性质），则两个质数为一奇一偶。</h3><h3 id="偶数中只有-2-是质数，而易知在其它质数中，只有-3-和-2-的异或值为-1。最终得到：两个质数只能是-3-和-2。"><a href="#偶数中只有-2-是质数，而易知在其它质数中，只有-3-和-2-的异或值为-1。最终得到：两个质数只能是-3-和-2。" class="headerlink" title="偶数中只有 2 是质数，而易知在其它质数中，只有 3 和 2 的异或值为 1。最终得到：两个质数只能是 3 和 2。"></a>偶数中只有 2 是质数，而易知在其它质数中，只有 3 和 2 的异或值为 1。最终得到：两个质数只能是 3 和 2。</h3><h3 id="3-是第-2-个质数，2-是第一个质数，则-x-和-y-为-2-和-1。注意两数可能调换位置。"><a href="#3-是第-2-个质数，2-是第一个质数，则-x-和-y-为-2-和-1。注意两数可能调换位置。" class="headerlink" title="3 是第 2 个质数，2 是第一个质数，则 x 和 y 为 2 和 1。注意两数可能调换位置。"></a>3 是第 2 个质数，2 是第一个质数，则 x 和 y 为 2 和 1。注意两数可能调换位置。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> t;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)&#123;</span><br><span class="line">		<span class="type">int</span> a,b;</span><br><span class="line">		cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">		<span class="keyword">if</span>(a==<span class="number">1</span>&amp;&amp;b==<span class="number">2</span>) cout&lt;&lt;<span class="string">&quot;Yes&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="number">2</span>&amp;&amp;b==<span class="number">1</span>) cout&lt;&lt;<span class="string">&quot;Yes&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;No&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/18/week12-answer/" data-id="cld161pen0007ygu8dav4c5k0" data-title="week12-answer" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/answer/" rel="tag">answer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week-12/" rel="tag">week 12</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-week11-answer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/16/week11-answer/" class="article-date">
  <time class="dt-published" datetime="2023-01-16T02:42:56.000Z" itemprop="datePublished">2023-01-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/01/16/week11-answer/">week11-answer</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-汤姆斯的天堂梦"><a href="#1-汤姆斯的天堂梦" class="headerlink" title="1.汤姆斯的天堂梦"></a>1.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1796">汤姆斯的天堂梦</a></h2><h3 id="（题目附图）题目要求求解从0到N所有路径中花费最少的费用"><a href="#（题目附图）题目要求求解从0到N所有路径中花费最少的费用" class="headerlink" title="（题目附图）题目要求求解从0到N所有路径中花费最少的费用"></a>（题目附图）题目要求求解从0到N所有路径中花费最少的费用</h3><h3 id="f-i-j-表示到第i级标号为j的星球所需的花费；动态方程为：f-i-j-x3D-min-f-i-1-k-money-f-i-j-k-x3D-1-2-3…"><a href="#f-i-j-表示到第i级标号为j的星球所需的花费；动态方程为：f-i-j-x3D-min-f-i-1-k-money-f-i-j-k-x3D-1-2-3…" class="headerlink" title="f[i][j]表示到第i级标号为j的星球所需的花费；动态方程为：f[i][j]&#x3D;min(f[i-1][k]+money,f[i][j])(k&#x3D;1,2,3…);"></a>f[i][j]表示到第i级标号为j的星球所需的花费；动态方程为：f[i][j]&#x3D;min(f[i-1][k]+money,f[i][j])(k&#x3D;1,2,3…);</h3><h3 id="最后输出f-N-i的最小值。"><a href="#最后输出f-N-i的最小值。" class="headerlink" title="最后输出f[N]i的最小值。"></a>最后输出f[N]<a href="i=1,2,3...">i</a>的最小值。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> N;</span><br><span class="line"><span class="type">int</span> K,h[<span class="number">105</span>]; </span><br><span class="line"><span class="type">int</span> f[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;N;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)&#123;</span><br><span class="line">		cin&gt;&gt;K;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=K;j++)&#123;</span><br><span class="line">			f[i][j]=<span class="number">1005</span>;</span><br><span class="line">			<span class="type">int</span> n,e;</span><br><span class="line">			cin&gt;&gt;n;</span><br><span class="line">			<span class="keyword">while</span>(n!=<span class="number">0</span>)&#123;</span><br><span class="line">				cin&gt;&gt;e;</span><br><span class="line">				f[i][j]=<span class="built_in">min</span>(f[i<span class="number">-1</span>][n]+e,f[i][j]);</span><br><span class="line">				cin&gt;&gt;n;</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> ans=f[N][<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=K;i++)&#123;</span><br><span class="line">		ans=<span class="built_in">min</span>(ans,f[N][i]);</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-跑步"><a href="#2-跑步" class="headerlink" title="2.跑步"></a>2.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1806">跑步</a></h2><h3 id="题目要求分多次跑完N圈，每次跑得圈数要比上一次多，求出跑完N圈的方案数。"><a href="#题目要求分多次跑完N圈，每次跑得圈数要比上一次多，求出跑完N圈的方案数。" class="headerlink" title="题目要求分多次跑完N圈，每次跑得圈数要比上一次多，求出跑完N圈的方案数。"></a>题目要求分多次跑完N圈，每次跑得圈数要比上一次多，求出跑完N圈的方案数。</h3><h3 id="首先数据注意使用long-long型；"><a href="#首先数据注意使用long-long型；" class="headerlink" title="首先数据注意使用long long型；"></a>首先数据注意使用long long型；</h3><h3 id="用f-i-j-表示跑完i圈的同时最后一次跑了j圈的方案数；"><a href="#用f-i-j-表示跑完i圈的同时最后一次跑了j圈的方案数；" class="headerlink" title="用f[i][j]表示跑完i圈的同时最后一次跑了j圈的方案数；"></a>用f[i][j]表示跑完i圈的同时最后一次跑了j圈的方案数；</h3><h3 id="该题可以用floyd求解；动态方程为：f-i-j-x3D-f-i-j-k-因为要比前一次跑得多，因此方程不仅要满足j-lt-x3D-i和k-lt-x3D-i-j-还要满足k-lt-j；"><a href="#该题可以用floyd求解；动态方程为：f-i-j-x3D-f-i-j-k-因为要比前一次跑得多，因此方程不仅要满足j-lt-x3D-i和k-lt-x3D-i-j-还要满足k-lt-j；" class="headerlink" title="该题可以用floyd求解；动态方程为：f[i][j]+&#x3D;f[i-j][k],因为要比前一次跑得多，因此方程不仅要满足j&lt;&#x3D;i和k&lt;&#x3D;i-j,还要满足k&lt;j；"></a>该题可以用floyd求解；动态方程为：f[i][j]+&#x3D;f[i-j][k],因为要比前一次跑得多，因此方程不仅要满足j&lt;&#x3D;i和k&lt;&#x3D;i-j,还要满足k&lt;j；</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> ans;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> f[<span class="number">505</span>][<span class="number">505</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) f[i][i]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;i;j++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;j&amp;&amp;k&lt;=i-j;k++)&#123;</span><br><span class="line">				f[i][j]+=f[i-j][k];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//for(int i=1;i&lt;n;i++) cout&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;f[n][i]&lt;&lt;endl;</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++) ans+=f[n][i];</span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-砝码称重"><a href="#3-砝码称重" class="headerlink" title="3.砝码称重"></a>3.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P8742">砝码称重</a></h2><h3 id="题目给出N个砝码的重量，求解所有能称出的重量（复杂在于砝码可放在同侧或异侧）"><a href="#题目给出N个砝码的重量，求解所有能称出的重量（复杂在于砝码可放在同侧或异侧）" class="headerlink" title="题目给出N个砝码的重量，求解所有能称出的重量（复杂在于砝码可放在同侧或异侧）"></a>题目给出N个砝码的重量，求解所有能称出的重量（复杂在于砝码可放在同侧或异侧）</h3><h3 id="遍历时从1到N对每个砝码决策，可放上可不放上，对所有重量（范围在-1-所有砝码重量总和-）进行可能性判断，用dp-i-j-表示决策i个砝码后重量为j的可能性，1表示可能，0表示不可能；"><a href="#遍历时从1到N对每个砝码决策，可放上可不放上，对所有重量（范围在-1-所有砝码重量总和-）进行可能性判断，用dp-i-j-表示决策i个砝码后重量为j的可能性，1表示可能，0表示不可能；" class="headerlink" title="遍历时从1到N对每个砝码决策，可放上可不放上，对所有重量（范围在[1,所有砝码重量总和]）进行可能性判断，用dp[i][j]表示决策i个砝码后重量为j的可能性，1表示可能，0表示不可能；"></a>遍历时从1到N对每个砝码决策，可放上可不放上，对所有重量（范围在[1,所有砝码重量总和]）进行可能性判断，用dp[i][j]表示决策i个砝码后重量为j的可能性，1表示可能，0表示不可能；</h3><h3 id="以下列出遍历时的不同情况："><a href="#以下列出遍历时的不同情况：" class="headerlink" title="以下列出遍历时的不同情况："></a>以下列出遍历时的不同情况：</h3><h4 id="如果-j-x3D-x3D-w-i-，则-dp-i-j-x3D-1-：说明只放一个（第i个）砝码。"><a href="#如果-j-x3D-x3D-w-i-，则-dp-i-j-x3D-1-：说明只放一个（第i个）砝码。" class="headerlink" title="如果 j&#x3D;&#x3D;w[i]，则 dp[i][j]&#x3D;1                  ：说明只放一个（第i个）砝码。"></a>如果 j&#x3D;&#x3D;w[i]，则 dp[i][j]&#x3D;1                  ：说明只放一个（第i个）砝码。</h4><h4 id="如果-dp-i-1-j-x3D-x3D-1，则-dp-i-j-x3D-1-：说明从第i-1个到第i个可以不变砝码。"><a href="#如果-dp-i-1-j-x3D-x3D-1，则-dp-i-j-x3D-1-：说明从第i-1个到第i个可以不变砝码。" class="headerlink" title="如果 dp[i-1][j]&#x3D;&#x3D;1，则 dp[i][j]&#x3D;1            ：说明从第i-1个到第i个可以不变砝码。"></a>如果 dp[i-1][j]&#x3D;&#x3D;1，则 dp[i][j]&#x3D;1            ：说明从第i-1个到第i个可以不变砝码。</h4><h4 id="如果-dp-i-1-j-w-i-x3D-x3D-1，则-dp-i-j-x3D-1-：说明可以在异侧加上第i个砝码使重量减轻-。"><a href="#如果-dp-i-1-j-w-i-x3D-x3D-1，则-dp-i-j-x3D-1-：说明可以在异侧加上第i个砝码使重量减轻-。" class="headerlink" title="如果 dp[i-1][j+w[i]]&#x3D;&#x3D;1，则 dp[i][j]&#x3D;1       ：说明可以在异侧加上第i个砝码使重量减轻 。"></a>如果 dp[i-1][j+w[i]]&#x3D;&#x3D;1，则 dp[i][j]&#x3D;1       ：说明可以在异侧加上第i个砝码使重量减轻 。</h4><h4 id="如果-dp-i-1-abs-j-w-i-x3D-x3D-1，则-dp-i-j-x3D-1-：说明可以在同侧加上第i个砝码-。"><a href="#如果-dp-i-1-abs-j-w-i-x3D-x3D-1，则-dp-i-j-x3D-1-：说明可以在同侧加上第i个砝码-。" class="headerlink" title="如果 dp[i-1][abs(j-w[i])]&#x3D;&#x3D;1，则 dp[i][j]&#x3D;1  ：说明可以在同侧加上第i个砝码 。"></a>如果 dp[i-1][abs(j-w[i])]&#x3D;&#x3D;1，则 dp[i][j]&#x3D;1  ：说明可以在同侧加上第i个砝码 。</h4><h3 id="最后对所有dp-N-i进行累加，得到答案。"><a href="#最后对所有dp-N-i进行累加，得到答案。" class="headerlink" title="最后对所有dp[N]i进行累加，得到答案。"></a>最后对所有dp[N]<a href="i=1,2,3...">i</a>进行累加，得到答案。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,a[<span class="number">105</span>],sum,ans;</span><br><span class="line"><span class="type">bool</span> dp[<span class="number">105</span>][<span class="number">100015</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; a[i];</span><br><span class="line">		sum += a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = sum; j; j--) &#123;</span><br><span class="line">			<span class="keyword">if</span>(a[i] == j) </span><br><span class="line">				dp[i][j] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(dp[i<span class="number">-1</span>][j]) </span><br><span class="line">				dp[i][j]=<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(dp[i - <span class="number">1</span>][j + a[i]])</span><br><span class="line">				dp[i][j] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(dp[i - <span class="number">1</span>][<span class="built_in">abs</span>(j - a[i])])</span><br><span class="line">				dp[i][j] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= sum;i++)</span><br><span class="line">		<span class="keyword">if</span>(dp[n][i])</span><br><span class="line">			ans++;</span><br><span class="line">	cout &lt;&lt; ans;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-遗址"><a href="#4-遗址" class="headerlink" title="4.遗址"></a>4.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1959">遗址</a></h2><h3 id="题目给出N个点的坐标，其中能围成多个正方形，求解能围成的正方形的面积；"><a href="#题目给出N个点的坐标，其中能围成多个正方形，求解能围成的正方形的面积；" class="headerlink" title="题目给出N个点的坐标，其中能围成多个正方形，求解能围成的正方形的面积；"></a>题目给出N个点的坐标，其中能围成多个正方形，求解能围成的正方形的面积；</h3><h3 id="首先要判断哪些点能围成正方形：依次选出两个点，依照正方形在方格线中的特殊性质-图见-推算能围成正方形的另外两个点；"><a href="#首先要判断哪些点能围成正方形：依次选出两个点，依照正方形在方格线中的特殊性质-图见-推算能围成正方形的另外两个点；" class="headerlink" title="首先要判断哪些点能围成正方形：依次选出两个点，依照正方形在方格线中的特殊性质,图见,推算能围成正方形的另外两个点；"></a>首先要判断哪些点能围成正方形：依次选出两个点，依照正方形在方格线中的特殊性质,<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/blog/516346/solution-p1959#">图见</a>,推算能围成正方形的另外两个点；</h3><h3 id="若推算出的两个点真实存在，则计算面积然后取最大值。"><a href="#若推算出的两个点真实存在，则计算面积然后取最大值。" class="headerlink" title="若推算出的两个点真实存在，则计算面积然后取最大值。"></a>若推算出的两个点真实存在，则计算面积然后取最大值。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,ans;</span><br><span class="line"><span class="type">int</span> f[<span class="number">5005</span>][<span class="number">5005</span>];</span><br><span class="line"><span class="type">int</span> x[<span class="number">5005</span>],y[<span class="number">5005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; x[i] &gt;&gt; y[i];</span><br><span class="line">		f[x[i]][y[i]]=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>; j&lt;=n; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(i!=j) &#123;</span><br><span class="line">				<span class="type">int</span> a=x[i]-x[j];</span><br><span class="line">				<span class="type">int</span> b=y[i]-y[j];</span><br><span class="line">				<span class="type">int</span> ax=x[i]-b;</span><br><span class="line">				<span class="type">int</span> bx=x[j]-b;</span><br><span class="line">				<span class="type">int</span> ay=y[i]+a;</span><br><span class="line">				<span class="type">int</span> by=y[j]+a;</span><br><span class="line">				<span class="keyword">if</span>(ax&gt;=<span class="number">0</span>&amp;&amp;ax&lt;=<span class="number">5000</span>&amp;&amp;bx&gt;=<span class="number">0</span>&amp;&amp;bx&lt;=<span class="number">5000</span>&amp;&amp;ay&gt;=<span class="number">0</span>&amp;&amp;ay&lt;=<span class="number">5000</span>&amp;&amp;by&gt;=<span class="number">0</span>&amp;&amp;by&lt;=<span class="number">5000</span>)</span><br><span class="line">					<span class="keyword">if</span>(f[ax][ay]&amp;&amp;f[bx][by])</span><br><span class="line">						ans=<span class="built_in">max</span>(ans,a*a+b*b);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; ans;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-环境治理"><a href="#5-环境治理" class="headerlink" title="5.环境治理"></a>5.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P8794">环境治理</a></h2><h3 id="题目给出编号从0-（n-1）共n个城市，城市之间的道路有不同的灰尘度以及灰尘度下限；"><a href="#题目给出编号从0-（n-1）共n个城市，城市之间的道路有不同的灰尘度以及灰尘度下限；" class="headerlink" title="题目给出编号从0-（n-1）共n个城市，城市之间的道路有不同的灰尘度以及灰尘度下限；"></a>题目给出编号从0-（n-1）共n个城市，城市之间的道路有不同的灰尘度以及灰尘度下限；</h3><h3 id="有对城市间道路的改善，改善后的道路灰尘度-1，但不低于灰尘度下限；"><a href="#有对城市间道路的改善，改善后的道路灰尘度-1，但不低于灰尘度下限；" class="headerlink" title="有对城市间道路的改善，改善后的道路灰尘度-1，但不低于灰尘度下限；"></a>有对城市间道路的改善，改善后的道路灰尘度-1，但不低于灰尘度下限；</h3><h3 id="改善计划如下：第1天对与0号城市相连的道路改善；第2天对与1号城市相连的道路改善；……第n天对与n-1号城市相连的道路改善-第n-1天对与0号城市相连的道路改善……"><a href="#改善计划如下：第1天对与0号城市相连的道路改善；第2天对与1号城市相连的道路改善；……第n天对与n-1号城市相连的道路改善-第n-1天对与0号城市相连的道路改善……" class="headerlink" title="改善计划如下：第1天对与0号城市相连的道路改善；第2天对与1号城市相连的道路改善；……第n天对与n-1号城市相连的道路改善;第n+1天对与0号城市相连的道路改善……"></a>改善计划如下：第1天对与0号城市相连的道路改善；第2天对与1号城市相连的道路改善；……第n天对与n-1号城市相连的道路改善;第n+1天对与0号城市相连的道路改善……</h3><h3 id="每两个城市的路线定义为所经过道路灰尘度最小的路线；对所有路线的灰尘度加总得到P值（出国环境），与给出的Q值比较；求解经过几天改善，P值才能不大于Q值。"><a href="#每两个城市的路线定义为所经过道路灰尘度最小的路线；对所有路线的灰尘度加总得到P值（出国环境），与给出的Q值比较；求解经过几天改善，P值才能不大于Q值。" class="headerlink" title="每两个城市的路线定义为所经过道路灰尘度最小的路线；对所有路线的灰尘度加总得到P值（出国环境），与给出的Q值比较；求解经过几天改善，P值才能不大于Q值。"></a>每两个城市的路线定义为所经过道路灰尘度最小的路线；对所有路线的灰尘度加总得到P值（出国环境），与给出的Q值比较；求解经过几天改善，P值才能不大于Q值。</h3><h3 id="因为随着天数增加，P值单调减小，因此此题可以用二分法求解；对范围为-l-r-的天数用二分法缩小范围直到求出最后结果。"><a href="#因为随着天数增加，P值单调减小，因此此题可以用二分法求解；对范围为-l-r-的天数用二分法缩小范围直到求出最后结果。" class="headerlink" title="因为随着天数增加，P值单调减小，因此此题可以用二分法求解；对范围为[l,r]的天数用二分法缩小范围直到求出最后结果。"></a>因为随着天数增加，P值单调减小，因此此题可以用二分法求解；对范围为[l,r]的天数用二分法缩小范围直到求出最后结果。</h3><h3 id="判断思路（check函数）：先对道路进行改善（注意优化，直接算出每条道路的改善次数（n循环）而不按照天数一天一天改善道路）；"><a href="#判断思路（check函数）：先对道路进行改善（注意优化，直接算出每条道路的改善次数（n循环）而不按照天数一天一天改善道路）；" class="headerlink" title="判断思路（check函数）：先对道路进行改善（注意优化，直接算出每条道路的改善次数（n循环）而不按照天数一天一天改善道路）；"></a>判断思路（check函数）：先对道路进行改善（注意优化，直接算出每条道路的改善次数（n循环）而不按照天数一天一天改善道路）；</h3><h3 id="再用floyd和动态规划计算每两个城市间的最优路线，动态方程为：l-i-j-x3D-l-i-j-l-i-k-l-k-j-；"><a href="#再用floyd和动态规划计算每两个城市间的最优路线，动态方程为：l-i-j-x3D-l-i-j-l-i-k-l-k-j-；" class="headerlink" title="再用floyd和动态规划计算每两个城市间的最优路线，动态方程为：l[i][j]&#x3D;(l[i][j],l[i][k]+l[k][j])；"></a>再用floyd和动态规划计算每两个城市间的最优路线，动态方程为：l[i][j]&#x3D;(l[i][j],l[i][k]+l[k][j])；</h3><h3 id="最后加总得到P值与Q值比较得出判断结果。"><a href="#最后加总得到P值与Q值比较得出判断结果。" class="headerlink" title="最后加总得到P值与Q值比较得出判断结果。"></a>最后加总得到P值与Q值比较得出判断结果。</h3><h3 id="P值、Q值等注意使用long-long型。"><a href="#P值、Q值等注意使用long-long型。" class="headerlink" title="P值、Q值等注意使用long long型。"></a>P值、Q值等注意使用long long型。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> Q;</span><br><span class="line"><span class="type">int</span> L[<span class="number">105</span>][<span class="number">105</span>],D[<span class="number">105</span>][<span class="number">105</span>],l[<span class="number">105</span>][<span class="number">105</span>],vis[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">long</span> <span class="type">long</span> day)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">			l[i][j]=L[i][j];l[j][i]=L[j][i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="type">int</span> num=day/n;</span><br><span class="line">		<span class="keyword">if</span>(day&gt;=num*n+i+<span class="number">1</span>) num++;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">			l[i][j]=<span class="built_in">max</span>(l[i][j]-num,D[i][j]);</span><br><span class="line">			l[j][i]=l[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;=n<span class="number">-1</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>; j&lt;=n<span class="number">-1</span>; j++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>; k&lt;=n<span class="number">-1</span>; k++)</span><br><span class="line">				l[i][j]=<span class="built_in">min</span>(l[i][j],l[i][k]+l[k][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> P=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;=n<span class="number">-1</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>; j&lt;=n<span class="number">-1</span>; j++) &#123;</span><br><span class="line">			P+=l[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	P*=<span class="number">2</span>;</span><br><span class="line">	<span class="keyword">if</span>(P&lt;=Q) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;Q;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>; j&lt;n; j++) &#123;</span><br><span class="line">			<span class="type">int</span> m;cin&gt;&gt;m;</span><br><span class="line">			L[j][i]=m;L[i][j]=m;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>; j&lt;n; j++) &#123;</span><br><span class="line">			<span class="type">int</span> m;cin&gt;&gt;m;</span><br><span class="line">			D[j][i]=m;D[i][j]=m;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> l=<span class="number">0</span>,r=<span class="number">1e9</span>,mid,ans=<span class="number">1e9</span>;</span><br><span class="line">	<span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">		mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">check</span>(mid)) ans=<span class="built_in">min</span>(ans,mid),r=mid<span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (ans==<span class="number">1e9</span>) cout&lt;&lt;<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/16/week11-answer/" data-id="cld161pel0005ygu878cf1epi" data-title="week11-answer" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/answer/" rel="tag">answer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week11/" rel="tag">week11</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-week10-answer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/03/week10-answer/" class="article-date">
  <time class="dt-published" datetime="2023-01-03T02:32:31.000Z" itemprop="datePublished">2023-01-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/01/03/week10-answer/">week10-answer</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Einstein学画画"><a href="#Einstein学画画" class="headerlink" title="Einstein学画画"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1636">Einstein学画画</a></h2><h3 id="欧拉路：若从起点到终点的路径恰通过图中每条边一次，则该路径称为欧拉路"><a href="#欧拉路：若从起点到终点的路径恰通过图中每条边一次，则该路径称为欧拉路" class="headerlink" title="欧拉路：若从起点到终点的路径恰通过图中每条边一次，则该路径称为欧拉路"></a>欧拉路：若从起点到终点的路径恰通过图中每条边一次，则该路径称为欧拉路</h3><h3 id="存在欧拉路的条件：图是联通的，且存在2个奇点（顶点度数为奇数）（顶点度数指和该顶点相关联的边数，包括出度和入度）"><a href="#存在欧拉路的条件：图是联通的，且存在2个奇点（顶点度数为奇数）（顶点度数指和该顶点相关联的边数，包括出度和入度）" class="headerlink" title="存在欧拉路的条件：图是联通的，且存在2个奇点（顶点度数为奇数）（顶点度数指和该顶点相关联的边数，包括出度和入度）"></a>存在欧拉路的条件：图是联通的，且存在2个奇点（顶点度数为奇数）（顶点度数指和该顶点相关联的边数，包括出度和入度）</h3><h3 id="本题相当于要求出有几条欧拉路，我们只要求出有几个奇点，奇点-x2F-2就是答案"><a href="#本题相当于要求出有几条欧拉路，我们只要求出有几个奇点，奇点-x2F-2就是答案" class="headerlink" title="本题相当于要求出有几条欧拉路，我们只要求出有几个奇点，奇点&#x2F;2就是答案"></a>本题相当于要求出有几条欧拉路，我们只要求出有几个奇点，奇点&#x2F;2就是答案</h3><h3 id="若奇点为0，答案为1；"><a href="#若奇点为0，答案为1；" class="headerlink" title="若奇点为0，答案为1；"></a>若奇点为0，答案为1；</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,ans;</span><br><span class="line"><span class="type">int</span> cnt[<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="type">int</span> a,b;</span><br><span class="line">		cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">		cnt[a]++;cnt[b]++; </span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(cnt[i]%<span class="number">2</span>) ans++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(!ans) cout&lt;&lt;<span class="string">&quot;1&quot;</span>;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;ans/<span class="number">2</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<hr>
<h2 id="2-合根植物"><a href="#2-合根植物" class="headerlink" title="2.合根植物"></a>2.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P8654">合根植物</a></h2><h3 id="https-zhuanlan-zhihu-com-p-542161296"><a href="#https-zhuanlan-zhihu-com-p-542161296" class="headerlink" title="https://zhuanlan.zhihu.com/p/542161296"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/542161296">https://zhuanlan.zhihu.com/p/542161296</a></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> par[<span class="number">1000005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_root</span><span class="params">(<span class="type">int</span> a)</span> </span>&#123;    <span class="comment">//求根节点</span></span><br><span class="line">	<span class="keyword">if</span>(par[a]!=a) &#123;</span><br><span class="line">		par[a]=<span class="built_in">get_root</span>(par[a]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> par[a];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">	par[<span class="built_in">get_root</span>(b)]=<span class="built_in">get_root</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> ans; </span><br><span class="line">	<span class="type">int</span> m,n,k;</span><br><span class="line">	<span class="type">int</span> x,y;</span><br><span class="line">	cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">	cin&gt;&gt;k;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;m*n; i++) &#123;</span><br><span class="line">		par[i]=i;         <span class="comment">//刚开始构成m*n个集合，每个元素的父节点都是自己</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;k; i++) &#123;</span><br><span class="line">		cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">		<span class="built_in">merge</span>(x,y);   <span class="comment">//合并x,y,最终答案就是合并后有多少个集合，即有几个不同的根节点</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;m*n; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(par[i]==i) ans++;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="3-奶酪"><a href="#3-奶酪" class="headerlink" title="3.奶酪"></a>3.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3958">奶酪</a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;<span class="comment">//不加本代码爆零</span></span><br><span class="line"><span class="type">int</span> f[<span class="number">1001</span>];<span class="comment">//并查集</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x!=f[x]) f[x]=<span class="built_in">find</span>(f[x]);</span><br><span class="line">    <span class="keyword">return</span> f[x];</span><br><span class="line">&#125;<span class="comment">//查找+路径压缩</span></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">dis</span><span class="params">(<span class="type">long</span> <span class="type">long</span> x,<span class="type">long</span> <span class="type">long</span> y,<span class="type">long</span> <span class="type">long</span> z,<span class="type">long</span> <span class="type">long</span> x1,<span class="type">long</span> <span class="type">long</span> y1,<span class="type">long</span> <span class="type">long</span> z1)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (x-x1)*(x-x1)+(y-y1)*(y-y1)+(z-z1)*(z-z1);</span><br><span class="line">&#125;<span class="comment">//两点距离公式，注意这里算的是距离平方。</span></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> x[<span class="number">100001</span>],y[<span class="number">100001</span>],z[<span class="number">100001</span>];</span><br><span class="line"><span class="type">int</span> f1[<span class="number">100001</span>],f2[<span class="number">100001</span>];</span><br><span class="line"><span class="comment">//f1记录与顶面相交的洞的序号</span></span><br><span class="line"><span class="comment">//f2记录与底面相交的洞的序号</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="type">int</span> n,h; </span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> r;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=t;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%lld&quot;</span>,&amp;n,&amp;h,&amp;r);<span class="comment">//long long不开的话...</span></span><br><span class="line">        <span class="type">int</span> tot1=<span class="number">0</span>;<span class="comment">//记录与顶面相交的洞有几个</span></span><br><span class="line">        <span class="type">int</span> tot2=<span class="number">0</span>;<span class="comment">//记录与底面相交的洞有几个</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">          f[j]=j;  <span class="comment">//并查集初始化</span></span><br><span class="line">         &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lld&quot;</span>,&amp;x[j],&amp;y[j],&amp;z[j]);<span class="comment">//long long不开的话...</span></span><br><span class="line">            <span class="keyword">if</span> (z[j]+r&gt;=h)&#123;<span class="comment">//判断这个点是否与顶面相交</span></span><br><span class="line">                tot1++;</span><br><span class="line">                f1[tot1]=j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (z[j]-r&lt;=<span class="number">0</span>)&#123;<span class="comment">//判断这个点是否与底面相交</span></span><br><span class="line">                tot2++;</span><br><span class="line">                f2[tot2]=j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k=<span class="number">1</span>;k&lt;=j;k++)&#123;<span class="comment">//枚举之前的洞是否与这个洞相交，如果相交则合并集合</span></span><br><span class="line">            	<span class="keyword">if</span> ((x[j]-x[k])*(x[j]-x[k])+(y[j]-y[k])*(y[j]-y[k])&gt;<span class="number">4</span>*r*r) <span class="keyword">continue</span>;</span><br><span class="line">            	<span class="comment">//防止爆long long的特判。 </span></span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">dis</span>(x[j],y[j],z[j],x[k],y[k],z[k])&lt;=<span class="number">4</span>*r*r)&#123;</span><br><span class="line">                    <span class="type">int</span> a1=<span class="built_in">find</span>(j);</span><br><span class="line">                    <span class="type">int</span> a2=<span class="built_in">find</span>(k);</span><br><span class="line">                    <span class="keyword">if</span> (a1!=a2) f[a1]=a2;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> s=<span class="number">0</span>;</span><br><span class="line">        <span class="comment">//看看每一个中是否有洞连接上下面</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=tot1;j++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k=<span class="number">1</span>;k&lt;=tot2;k++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">find</span>(f1[j])==<span class="built_in">find</span>(f2[k]))&#123;</span><br><span class="line">                    s=<span class="number">1</span>; </span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s==<span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s==<span class="number">1</span>) cout&lt;&lt;<span class="string">&quot;Yes&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;No&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<hr>
<h2 id="4-灾后重建"><a href="#4-灾后重建" class="headerlink" title="4.灾后重建"></a>4.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1119">灾后重建</a></h2><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 205</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> f[N][N];<span class="comment">//邻接矩阵存边</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">updata</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">	<span class="keyword">if</span>(f[i][j]&gt;f[i][k]+f[j][k])</span><br><span class="line">	f[i][j]=f[j][i]=f[i][k]+f[j][k];<span class="comment">//用这个新的更新所有前面的 </span></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,a+i);<span class="comment">//依次输入每一个村庄建立完成时需要的时间</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">		f[i][j]=<span class="number">1e9</span>;<span class="comment">//初始化为保证它不爆炸范围内的最大值 </span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	f[i][i]=<span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> s1,s2,s3;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;s1,&amp;s2,&amp;s3);</span><br><span class="line">		f[s1][s2]=f[s2][s1]=s3;<span class="comment">//初始化边长 </span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> q;</span><br><span class="line">	cin&gt;&gt;q;</span><br><span class="line">	<span class="type">int</span> now=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++)&#123;<span class="comment">//处理各询问 </span></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;s1,&amp;s2,&amp;s3);</span><br><span class="line">		<span class="keyword">while</span>(a[now]&lt;=s3&amp;&amp;now&lt;n)&#123;</span><br><span class="line">			<span class="built_in">updata</span>(now);<span class="comment">//依次更新点，使它可以被用来更新其他的点 </span></span><br><span class="line">			now++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(a[s1]&gt;s3||a[s2]&gt;s3)cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(f[s1][s2]==<span class="number">1e9</span>)cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">			<span class="keyword">else</span> cout&lt;&lt;f[s1][s2]&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<hr>
<h2 id="5-聪明的猴子"><a href="#5-聪明的猴子" class="headerlink" title="5.聪明的猴子"></a>5.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2504">聪明的猴子</a></h2><h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,k,ans=<span class="number">0</span>;</span><br><span class="line"><span class="type">double</span> sum=<span class="number">-1</span>;</span><br><span class="line"><span class="type">int</span> a[<span class="number">1000005</span>][<span class="number">3</span>],b[<span class="number">1000005</span>],pre[<span class="number">1000005</span>];<span class="comment">//	前面一直RE，开大一点；</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">zzz</span> &#123;</span><br><span class="line">	<span class="type">int</span> x,y;</span><br><span class="line">	<span class="type">double</span> p;</span><br><span class="line">&#125; z[<span class="number">1000005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">cmp</span><span class="params">(zzz k,zzz d)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> k.p&lt;d.p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(pre[x]==x)</span><br><span class="line">		<span class="keyword">return</span> x;</span><br><span class="line">	<span class="keyword">return</span> pre[x]=<span class="built_in">find</span>(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=m; i++) &#123;</span><br><span class="line">		cin&gt;&gt;b[i];</span><br><span class="line">	&#125;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">		cin&gt;&gt;a[i][<span class="number">1</span>]&gt;&gt;a[i][<span class="number">2</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>; j&lt;=n; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(i!=j) &#123;</span><br><span class="line">				k++;</span><br><span class="line">				z[k].x=i;</span><br><span class="line">				z[k].y=j;</span><br><span class="line">				z[k].p=<span class="built_in">sqrt</span>((a[i][<span class="number">1</span>]-a[j][<span class="number">1</span>])*(a[i][<span class="number">1</span>]-a[j][<span class="number">1</span>])+(a[i][<span class="number">2</span>]-a[j][<span class="number">2</span>])*(a[i][<span class="number">2</span>]-a[j][<span class="number">2</span>]));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">	<span class="type">int</span> cnt=n;<span class="comment">//Kruskal！！！</span></span><br><span class="line">	<span class="built_in">sort</span>(z+<span class="number">1</span>,z+k+<span class="number">1</span>,cmp);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">		pre[i]=i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=k; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(cnt==<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="type">int</span> s1=<span class="built_in">find</span>(z[i].x),s2=<span class="built_in">find</span>(z[i].y);</span><br><span class="line">		<span class="keyword">if</span>(s1!=s2) &#123;</span><br><span class="line">			pre[s1]=s2;</span><br><span class="line">			cnt--;</span><br><span class="line">			sum=z[i].p;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=m; i++) &#123;<span class="comment">//比较</span></span><br><span class="line">		<span class="keyword">if</span>(sum&lt;=b[i])</span><br><span class="line">			ans++;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans&lt;&lt;endl;<span class="comment">//完美输出</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/03/week10-answer/" data-id="cld161peh0003ygu8enny0yfa" data-title="week10-answer" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/answer/" rel="tag">answer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week10/" rel="tag">week10</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-week9-answer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/01/week9-answer/" class="article-date">
  <time class="dt-published" datetime="2023-01-01T14:34:10.000Z" itemprop="datePublished">2023-01-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/01/01/week9-answer/">week9-answer</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-P5318-【深基18-例3】查找文献"><a href="#1-P5318-【深基18-例3】查找文献" class="headerlink" title="1.P5318 【深基18.例3】查找文献"></a>1.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P5318">P5318 【深基18.例3】查找文献</a></h2><h3 id="因为要注意先看编号较小的那篇文章，因此利用优先队列储存文章序号；-储存时q-x-push-y-用表示文章-X-有参考文献-Y；"><a href="#因为要注意先看编号较小的那篇文章，因此利用优先队列储存文章序号；-储存时q-x-push-y-用表示文章-X-有参考文献-Y；" class="headerlink" title="因为要注意先看编号较小的那篇文章，因此利用优先队列储存文章序号； 储存时q[x].push(y)用表示文章 X 有参考文献 Y；"></a>因为要注意先看编号较小的那篇文章，因此利用优先队列储存文章序号； 储存时q[x].push(y)用表示文章 X 有参考文献 Y；</h3><h3 id="当dfs遍历时首先读序号为1的文章-q-1-x3D-2、3、4-，然后读取1的第一个参考文献2-q-2-x3D-5、6-；"><a href="#当dfs遍历时首先读序号为1的文章-q-1-x3D-2、3、4-，然后读取1的第一个参考文献2-q-2-x3D-5、6-；" class="headerlink" title="当dfs遍历时首先读序号为1的文章(q[1]&#x3D;2、3、4)，然后读取1的第一个参考文献2(q[2]&#x3D;5、6)；"></a>当dfs遍历时首先读序号为1的文章(q[1]&#x3D;2、3、4)，然后读取1的第一个参考文献2(q[2]&#x3D;5、6)；</h3><h3 id="在通过2读取2的参考文献5-搜索q-5-，因为5没有参考文献，再读取2的另一个参考文献6；"><a href="#在通过2读取2的参考文献5-搜索q-5-，因为5没有参考文献，再读取2的另一个参考文献6；" class="headerlink" title="在通过2读取2的参考文献5(搜索q[5])，因为5没有参考文献，再读取2的另一个参考文献6；"></a>在通过2读取2的参考文献5(搜索q[5])，因为5没有参考文献，再读取2的另一个参考文献6；</h3><h3 id="2的参考文献读完后，再读取1的第二个参考文献————3，然后读取7-q-7-x3D-8-8；"><a href="#2的参考文献读完后，再读取1的第二个参考文献————3，然后读取7-q-7-x3D-8-8；" class="headerlink" title="2的参考文献读完后，再读取1的第二个参考文献————3，然后读取7(q[7]&#x3D;8),8；"></a>2的参考文献读完后，再读取1的第二个参考文献————3，然后读取7(q[7]&#x3D;8),8；</h3><h3 id="最后读取1的最后一个参考文献4。"><a href="#最后读取1的最后一个参考文献4。" class="headerlink" title="最后读取1的最后一个参考文献4。"></a>最后读取1的最后一个参考文献4。</h3><h3 id="总结dfs：dfs-num-————-gt-读取q-num-————-gt-n1-n2-n3————-gt-dfs-n1-n2-n3-……"><a href="#总结dfs：dfs-num-————-gt-读取q-num-————-gt-n1-n2-n3————-gt-dfs-n1-n2-n3-……" class="headerlink" title="总结dfs：dfs(num)————&gt;读取q[num]————&gt;n1\n2\n3————&gt;dfs(n1\n2\n3)……"></a>总结dfs：dfs(num)————&gt;读取q[num]————&gt;n1\n2\n3————&gt;dfs(n1\n2\n3)……</h3><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><h3 id="当bfs遍历时，首先读取1，将1存入队列p；"><a href="#当bfs遍历时，首先读取1，将1存入队列p；" class="headerlink" title="当bfs遍历时，首先读取1，将1存入队列p；"></a>当bfs遍历时，首先读取1，将1存入队列p；</h3><h3 id="依次读取q-1-的所有元素2、3、4；并全部存入p中；"><a href="#依次读取q-1-的所有元素2、3、4；并全部存入p中；" class="headerlink" title="依次读取q[1]的所有元素2、3、4；并全部存入p中；"></a>依次读取q[1]的所有元素2、3、4；并全部存入p中；</h3><h3 id="再依次读取q-2-、q-3-、q-4-的所有元素并存入队列p；"><a href="#再依次读取q-2-、q-3-、q-4-的所有元素并存入队列p；" class="headerlink" title="再依次读取q[2]、q[3]、q[4]的所有元素并存入队列p；"></a>再依次读取q[2]、q[3]、q[4]的所有元素并存入队列p；</h3><h3 id="总结bfs：bfs-num-————-gt-读取q-num-的所有元素n1、n2、n3————-gt-bfs-n1-、bfs-n2-、bfs-n3-……"><a href="#总结bfs：bfs-num-————-gt-读取q-num-的所有元素n1、n2、n3————-gt-bfs-n1-、bfs-n2-、bfs-n3-……" class="headerlink" title="总结bfs：bfs(num)————&gt;读取q[num]的所有元素n1、n2、n3————&gt;bfs(n1)、bfs(n2)、bfs(n3)……"></a>总结bfs：bfs(num)————&gt;读取q[num]的所有元素n1、n2、n3————&gt;bfs(n1)、bfs(n2)、bfs(n3)……</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> vis1[<span class="number">100005</span>],vis2[<span class="number">100005</span>];</span><br><span class="line">priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,greater&lt;<span class="type">int</span>&gt; &gt;q1[<span class="number">100005</span>],q2[<span class="number">100005</span>];  </span><br><span class="line"><span class="type">int</span> n,m; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	<span class="keyword">while</span>(!q1[num].<span class="built_in">empty</span>())&#123;</span><br><span class="line">		<span class="type">int</span> g=q1[num].<span class="built_in">top</span>();</span><br><span class="line">		<span class="keyword">if</span>(!vis1[g])&#123;</span><br><span class="line">			vis1[g]=<span class="number">1</span>;</span><br><span class="line">			<span class="built_in">dfs</span>(g);</span><br><span class="line">		&#125;</span><br><span class="line">		q1[num].<span class="built_in">pop</span>();	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">	queue &lt;<span class="type">int</span>&gt;p;</span><br><span class="line">	p.<span class="built_in">push</span>(num);</span><br><span class="line">	cout&lt;&lt;num&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	vis2[num]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(!p.<span class="built_in">empty</span>())&#123;</span><br><span class="line">		<span class="type">int</span> g=p.<span class="built_in">front</span>();</span><br><span class="line">		p.<span class="built_in">pop</span>();</span><br><span class="line">		<span class="keyword">while</span>(!q2[g].<span class="built_in">empty</span>())&#123;</span><br><span class="line">			<span class="type">int</span> h=q2[g].<span class="built_in">top</span>();</span><br><span class="line">			<span class="keyword">if</span>(!vis2[h])&#123;</span><br><span class="line">				p.<span class="built_in">push</span>(h);</span><br><span class="line">				cout&lt;&lt;h&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">				vis2[h]=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			q2[g].<span class="built_in">pop</span>();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="type">int</span> x,y;</span><br><span class="line">		cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">		q1[x].<span class="built_in">push</span>(y);</span><br><span class="line">		q2[x].<span class="built_in">push</span>(y);</span><br><span class="line">	&#125;</span><br><span class="line">	vis1[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">	<span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">	<span class="built_in">bfs</span>(<span class="number">1</span>);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="2-floyd"><a href="#2-floyd" class="headerlink" title="2.floyd"></a>2.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/U80592">floyd</a></h2><h3 id="floyd模板："><a href="#floyd模板：" class="headerlink" title="floyd模板："></a>floyd模板：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=n;k++)</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">			f[i][j]=<span class="built_in">min</span>(f[i][j],f[i][k]+f[k][j]);	</span><br></pre></td></tr></table></figure>
<h3 id="另外本题需要注意：设定f-i-j-为无穷大；设定f-i-i-为0；设定数组f-为long-long型；每次累加结果-998244354；"><a href="#另外本题需要注意：设定f-i-j-为无穷大；设定f-i-i-为0；设定数组f-为long-long型；每次累加结果-998244354；" class="headerlink" title="另外本题需要注意：设定f[i][j]为无穷大；设定f[i][i]为0；设定数组f[][]为long long型；每次累加结果%998244354；"></a>另外本题需要注意：设定f[i][j]为无穷大；设定f[i][i]为0；设定数组f[][]为long long型；每次累加结果%998244354；</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m; </span><br><span class="line"><span class="type">long</span> <span class="type">long</span> f[<span class="number">505</span>][<span class="number">505</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="built_in">memset</span>(f,<span class="number">0x3f3f3f</span>,<span class="built_in">sizeof</span>(f));</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="type">int</span> u,v;<span class="type">long</span> <span class="type">long</span> s;</span><br><span class="line">		cin&gt;&gt;u&gt;&gt;v&gt;&gt;s;</span><br><span class="line">		<span class="keyword">if</span>(s&lt;f[u][v])&#123;</span><br><span class="line">			f[u][v]=s;</span><br><span class="line">			f[v][u]=s;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		f[i][i]=<span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=n;k++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">				f[i][j]=<span class="built_in">min</span>(f[i][j],f[i][k]+f[k][j]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="type">long</span> <span class="type">long</span> sum=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">			<span class="comment">//cout&lt;&lt;f[i][j]&lt;&lt;endl;</span></span><br><span class="line">			<span class="keyword">if</span>(i!=j)sum+=f[i][j];</span><br><span class="line">			sum%=<span class="number">998244354</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout&lt;&lt;sum&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="3-单源最短路径"><a href="#3-单源最短路径" class="headerlink" title="3.单源最短路径"></a>3.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4779">单源最短路径</a></h2><h3 id="https-www-cnblogs-com-little-sun0331-p-9484730-html"><a href="#https-www-cnblogs-com-little-sun0331-p-9484730-html" class="headerlink" title="https://www.cnblogs.com/little-sun0331/p/9484730.html"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/little-sun0331/p/9484730.html">https://www.cnblogs.com/little-sun0331/p/9484730.html</a></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MaxN = <span class="number">100010</span>, MaxM = <span class="number">500010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">edge</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> to, dis, next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">edge e[MaxM];</span><br><span class="line"><span class="type">int</span> head[MaxN], dis[MaxN], cnt;</span><br><span class="line"><span class="type">bool</span> vis[MaxN];</span><br><span class="line"><span class="type">int</span> n, m, s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add_edge</span><span class="params">( <span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> d )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt++;</span><br><span class="line">    e[cnt].dis = d;</span><br><span class="line">    e[cnt].to = v;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> dis;</span><br><span class="line">    <span class="type">int</span> pos;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt;( <span class="type">const</span> node &amp;x )<span class="type">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> x.dis &lt; dis;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">std::priority_queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    q.<span class="built_in">push</span>( ( node )&#123;<span class="number">0</span>, s&#125; );</span><br><span class="line">    <span class="keyword">while</span>( !q.<span class="built_in">empty</span>() )</span><br><span class="line">    &#123;</span><br><span class="line">        node tmp = q.<span class="built_in">top</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> x = tmp.pos, d = tmp.dis;</span><br><span class="line">        <span class="keyword">if</span>( vis[x] )</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        vis[x] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>( <span class="type">int</span> i = head[x]; i; i = e[i].next )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> y = e[i].to;</span><br><span class="line">            <span class="keyword">if</span>( dis[y] &gt; dis[x] + e[i].dis )</span><br><span class="line">            &#123;</span><br><span class="line">                dis[y] = dis[x] + e[i].dis;</span><br><span class="line">                <span class="keyword">if</span>( !vis[y] )</span><br><span class="line">                &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>( ( node )&#123;dis[y], y&#125; );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>( <span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;s );</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)dis[i] = <span class="number">0x7fffffff</span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">register</span> <span class="type">int</span> i = <span class="number">0</span>; i &lt; m; ++i )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">register</span> <span class="type">int</span> u, v, d;</span><br><span class="line">        <span class="built_in">scanf</span>( <span class="string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;d );</span><br><span class="line">        <span class="built_in">add_edge</span>( u, v, d );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dijkstra</span>();</span><br><span class="line">    <span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++ )</span><br><span class="line">        <span class="built_in">printf</span>( <span class="string">&quot;%d &quot;</span>, dis[i] );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/01/week9-answer/" data-id="cld161pf2000kygu8davsftye" data-title="week9-answer" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/answer/" rel="tag">answer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week9/" rel="tag">week9</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-week8-answer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/12/25/week8-answer/" class="article-date">
  <time class="dt-published" datetime="2022-12-25T08:20:53.000Z" itemprop="datePublished">2022-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/12/25/week8-answer/">week8-answer</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-疯狂的采药"><a href="#1-疯狂的采药" class="headerlink" title="1.疯狂的采药"></a>1.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1616">疯狂的采药</a></h2><h3 id="状态转移方程：f-j-x3D-max-f-j-f-j-a-i-b-i"><a href="#状态转移方程：f-j-x3D-max-f-j-f-j-a-i-b-i" class="headerlink" title="状态转移方程：f[j]&#x3D;max(f[j],f[j-a[i]]+b[i]);"></a>状态转移方程：f[j]&#x3D;max(f[j],f[j-a[i]]+b[i]);</h3><h3 id="注意数据会很大因此需要long-long；"><a href="#注意数据会很大因此需要long-long；" class="headerlink" title="注意数据会很大因此需要long long；"></a>注意数据会很大因此需要long long；</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a[<span class="number">10005</span>],b[<span class="number">10005</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> f[<span class="number">10000005</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> t,m;</span><br><span class="line">	cin&gt;&gt;t&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i=<span class="number">1</span>;i&lt;=m;i++) cin&gt;&gt;a[i]&gt;&gt;b[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=a[i];j&lt;=t;j++)&#123;</span><br><span class="line">			f[j]=<span class="built_in">max</span>(f[j],f[j-a[i]]+b[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;f[t];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-樱花"><a href="#2-樱花" class="headerlink" title="2.樱花"></a>2.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1833">樱花</a></h2><h3 id="本题是多重背包问题，因此需要进行二进制拆分-详见代码"><a href="#本题是多重背包问题，因此需要进行二进制拆分-详见代码" class="headerlink" title="本题是多重背包问题，因此需要进行二进制拆分(详见代码)"></a>本题是多重背包问题，因此需要进行二进制拆分(详见代码)</h3><h3 id="状态转移方程：f-j-x3D-max-f-j-f-j-co-i-v-i-注意不再是a-i-和b-i-因为进行二进制拆分后时间和价值重新分配"><a href="#状态转移方程：f-j-x3D-max-f-j-f-j-co-i-v-i-注意不再是a-i-和b-i-因为进行二进制拆分后时间和价值重新分配" class="headerlink" title="状态转移方程：f[j]&#x3D;max(f[j],f[j-co[i]]+v[i]);(注意不再是a[i]和b[i],因为进行二进制拆分后时间和价值重新分配)"></a>状态转移方程：f[j]&#x3D;max(f[j],f[j-co[i]]+v[i]);(注意不再是a[i]和b[i],因为进行二进制拆分后时间和价值重新分配)</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> a[<span class="number">10005</span>],b[<span class="number">10005</span>],c[<span class="number">10005</span>];<span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> co[<span class="number">1000005</span>],v[<span class="number">1000005</span>];<span class="type">int</span> tp;<span class="type">int</span> f[<span class="number">10005</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre</span><span class="params">()</span> </span>&#123;     <span class="comment">//二进制拆分</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		<span class="type">int</span> t=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(c[i]) &#123;</span><br><span class="line">			co[++tp]=t*a[i];  <span class="comment">//重新分配背包</span></span><br><span class="line">			v[tp]=t*b[i];</span><br><span class="line">			c[i]-=t; t*=<span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span>(c[i]&lt;t) &#123;<span class="comment">//如果剩下的不能再拆，就直接放在一起</span></span><br><span class="line">				co[++tp]=a[i]*c[i];</span><br><span class="line">				v[tp]=b[i]*c[i];</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> t1,t2,t3,t4,t;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d:%d%d:%d&quot;</span>,&amp;t1,&amp;t2,&amp;t3,&amp;t4);</span><br><span class="line">	t=-(t1*<span class="number">60</span>+t2)+(t3*<span class="number">60</span>+t4);   <span class="comment">//简便计算时间</span></span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		cin&gt;&gt;a[i]&gt;&gt;b[i]&gt;&gt;c[i];</span><br><span class="line">		<span class="keyword">if</span>(c[i]==<span class="number">0</span>) c[i]=<span class="number">999999</span>;  <span class="comment">//因为是无限次，就可用一个较大的数取代</span></span><br><span class="line">	&#125; </span><br><span class="line">	<span class="built_in">pre</span>();   <span class="comment">//二进制拆分</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=tp;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=t;j&gt;=co[i];j--)&#123;</span><br><span class="line">			f[j]=<span class="built_in">max</span>(f[j],f[j-co[i]]+v[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">	cout&lt;&lt;f[t];</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="3-摆花"><a href="#3-摆花" class="headerlink" title="3.摆花"></a>3.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1077">摆花</a></h2><h3 id="这一题乍一看有些难度，理解后看一下觉得其实还蛮简单的。"><a href="#这一题乍一看有些难度，理解后看一下觉得其实还蛮简单的。" class="headerlink" title="这一题乍一看有些难度，理解后看一下觉得其实还蛮简单的。"></a>这一题乍一看有些难度，理解后看一下觉得其实还蛮简单的。</h3><h3 id="主要思路是：先开一个二维数组b-，存储放i种j盆花的方案总数。"><a href="#主要思路是：先开一个二维数组b-，存储放i种j盆花的方案总数。" class="headerlink" title="主要思路是：先开一个二维数组b[][]，存储放i种j盆花的方案总数。"></a>主要思路是：先开一个二维数组b[][]，存储放i种j盆花的方案总数。</h3><h3 id="首先进行初始化，大家想想-无论有多少种花，如果一盆都没有，那是不是只有一种方案总数了（什么也不放）？"><a href="#首先进行初始化，大家想想-无论有多少种花，如果一盆都没有，那是不是只有一种方案总数了（什么也不放）？" class="headerlink" title="首先进行初始化，大家想想,无论有多少种花，如果一盆都没有，那是不是只有一种方案总数了（什么也不放）？"></a>首先进行初始化，大家想想,无论有多少种花，如果一盆都没有，那是不是只有一种方案总数了（什么也不放）？</h3><h3 id="所以初始化为b-i-0-x3D-1-0-lt-x3D-i-lt-x3D-m-。然后呢，我们进行三重循环。变量i表示有多少种花，j表示有多少盆花，k则是用于计算某种花放多少盆。"><a href="#所以初始化为b-i-0-x3D-1-0-lt-x3D-i-lt-x3D-m-。然后呢，我们进行三重循环。变量i表示有多少种花，j表示有多少盆花，k则是用于计算某种花放多少盆。" class="headerlink" title="所以初始化为b[i][0]&#x3D;1(0&lt;&#x3D;i&lt;&#x3D;m)。然后呢，我们进行三重循环。变量i表示有多少种花，j表示有多少盆花，k则是用于计算某种花放多少盆。"></a>所以初始化为b[i][0]&#x3D;1(0&lt;&#x3D;i&lt;&#x3D;m)。然后呢，我们进行三重循环。变量i表示有多少种花，j表示有多少盆花，k则是用于计算某种花放多少盆。</h3><h3 id="从总盆数开始循环到总盆数-最大盆数，如果k小于0（说明最大盆数大于总盆数）就退出循环。我们得到的状态转移方程则是："><a href="#从总盆数开始循环到总盆数-最大盆数，如果k小于0（说明最大盆数大于总盆数）就退出循环。我们得到的状态转移方程则是：" class="headerlink" title="从总盆数开始循环到总盆数-最大盆数，如果k小于0（说明最大盆数大于总盆数）就退出循环。我们得到的状态转移方程则是："></a>从总盆数开始循环到总盆数-最大盆数，如果k小于0（说明最大盆数大于总盆数）就退出循环。我们得到的状态转移方程则是：</h3><h3 id="b-i-j-x3D-b-i−1-k"><a href="#b-i-j-x3D-b-i−1-k" class="headerlink" title="b[i][j]+&#x3D;b[i−1]k"></a>b[i][j]+&#x3D;b[i−1]<a href="j%3E=k%3E=j%E2%88%92a%5Bi%5D">k</a></h3><h3 id="最终的答案就是b-n-m-。"><a href="#最终的答案就是b-n-m-。" class="headerlink" title="最终的答案就是b[n][m]。"></a>最终的答案就是b[n][m]。</h3><h3 id="当然，随时加上-1000007会更保险。然后就AC啦。"><a href="#当然，随时加上-1000007会更保险。然后就AC啦。" class="headerlink" title="当然，随时加上%1000007会更保险。然后就AC啦。"></a>当然，随时加上%1000007会更保险。然后就AC啦。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> f[<span class="number">105</span>][<span class="number">105</span>],a[<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> n,m;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n;i++) f[i][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=j;k&gt;=j-a[i]&amp;&amp;k&gt;=<span class="number">0</span>;k--)&#123;</span><br><span class="line">				f[i][j]+=f[i<span class="number">-1</span>][k];</span><br><span class="line">				f[i][j]%=<span class="number">1000007</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;f[n][m];</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="4-金明的预算方案"><a href="#4-金明的预算方案" class="headerlink" title="4.金明的预算方案"></a>4.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1064">金明的预算方案</a></h2><h3 id="还记得01背包的决策是什么吗？"><a href="#还记得01背包的决策是什么吗？" class="headerlink" title="还记得01背包的决策是什么吗？"></a>还记得01背包的决策是什么吗？</h3><h3 id="1-不选，然后去考虑下一个"><a href="#1-不选，然后去考虑下一个" class="headerlink" title="1.不选，然后去考虑下一个"></a>1.不选，然后去考虑下一个</h3><h3 id="2-选，背包容量减掉那个重量，总值加上那个价值。"><a href="#2-选，背包容量减掉那个重量，总值加上那个价值。" class="headerlink" title="2.选，背包容量减掉那个重量，总值加上那个价值。"></a>2.选，背包容量减掉那个重量，总值加上那个价值。</h3><h3 id="这个题的决策是五个，分别是："><a href="#这个题的决策是五个，分别是：" class="headerlink" title="这个题的决策是五个，分别是："></a>这个题的决策是五个，分别是：</h3><h3 id="1-不选，然后去考虑下一个-1"><a href="#1-不选，然后去考虑下一个-1" class="headerlink" title="1.不选，然后去考虑下一个"></a>1.不选，然后去考虑下一个</h3><h3 id="2-选且只选这个主件"><a href="#2-选且只选这个主件" class="headerlink" title="2.选且只选这个主件"></a>2.选且只选这个主件</h3><h3 id="3-选这个主件，并且选附件1"><a href="#3-选这个主件，并且选附件1" class="headerlink" title="3.选这个主件，并且选附件1"></a>3.选这个主件，并且选附件1</h3><h3 id="4-选这个主件，并且选附件2"><a href="#4-选这个主件，并且选附件2" class="headerlink" title="4.选这个主件，并且选附件2"></a>4.选这个主件，并且选附件2</h3><h3 id="5-选这个主件，并且选附件1和附件2"><a href="#5-选这个主件，并且选附件1和附件2" class="headerlink" title="5.选这个主件，并且选附件1和附件2."></a>5.选这个主件，并且选附件1和附件2.</h3><h3 id="我们知道，01背包的状态转移方程（已使用滚动数组优化）是f-j-x3D-max-f-j-f-j-w-i-c-i-，那么，这道题的转移方程也就不难写出了。"><a href="#我们知道，01背包的状态转移方程（已使用滚动数组优化）是f-j-x3D-max-f-j-f-j-w-i-c-i-，那么，这道题的转移方程也就不难写出了。" class="headerlink" title="我们知道，01背包的状态转移方程（已使用滚动数组优化）是f[j] &#x3D; max(f[j],f[j-w[i]]+c[i])，那么，这道题的转移方程也就不难写出了。"></a>我们知道，01背包的状态转移方程（已使用滚动数组优化）是f[j] &#x3D; max(f[j],f[j-w[i]]+c[i])，那么，这道题的转移方程也就不难写出了。</h3><h3 id="等等，你得先判断某个选附件的决策是不是可行的，如果当前的容量还够放第一个，或第二个，或两个都选的附件，那么才能考虑转移。"><a href="#等等，你得先判断某个选附件的决策是不是可行的，如果当前的容量还够放第一个，或第二个，或两个都选的附件，那么才能考虑转移。" class="headerlink" title="等等，你得先判断某个选附件的决策是不是可行的，如果当前的容量还够放第一个，或第二个，或两个都选的附件，那么才能考虑转移。"></a>等等，你得先判断某个选附件的决策是不是可行的，如果当前的容量还够放第一个，或第二个，或两个都选的附件，那么才能考虑转移。</h3><h3 id="当然，不选附件的话就不用判啦，直接01背包的转移方程即可。"><a href="#当然，不选附件的话就不用判啦，直接01背包的转移方程即可。" class="headerlink" title="当然，不选附件的话就不用判啦，直接01背包的转移方程即可。"></a>当然，不选附件的话就不用判啦，直接01背包的转移方程即可。</h3><h3 id="我们令main-item-w数组表示某个主件的费用，而main-item-c数组表示某个主件的价值。"><a href="#我们令main-item-w数组表示某个主件的费用，而main-item-c数组表示某个主件的价值。" class="headerlink" title="我们令main_item_w数组表示某个主件的费用，而main_item_c数组表示某个主件的价值。"></a>我们令main_item_w数组表示某个主件的费用，而main_item_c数组表示某个主件的价值。</h3><h3 id="同样的，用二维数组annex-item-w表示某个附件的费用，annex-item-c表示某个附件的价值，第二维只需要0-1-2这三个数，其中第二维是0的场合表示这个主件i的附件数量，它只能等于0或1或2。第二维是1或者是2的值代表以i为主件的附件1或者附件2的相关信息（费用-价值）。这些数组的信息应该在读入时处理好，具体详见代码。"><a href="#同样的，用二维数组annex-item-w表示某个附件的费用，annex-item-c表示某个附件的价值，第二维只需要0-1-2这三个数，其中第二维是0的场合表示这个主件i的附件数量，它只能等于0或1或2。第二维是1或者是2的值代表以i为主件的附件1或者附件2的相关信息（费用-价值）。这些数组的信息应该在读入时处理好，具体详见代码。" class="headerlink" title="同样的，用二维数组annex_item_w表示某个附件的费用，annex_item_c表示某个附件的价值，第二维只需要0,1,2这三个数，其中第二维是0的场合表示这个主件i的附件数量，它只能等于0或1或2。第二维是1或者是2的值代表以i为主件的附件1或者附件2的相关信息（费用 价值）。这些数组的信息应该在读入时处理好，具体详见代码。"></a>同样的，用二维数组annex_item_w表示某个附件的费用，annex_item_c表示某个附件的价值，第二维只需要0,1,2这三个数，其中第二维是0的场合表示这个主件i的附件数量，它只能等于0或1或2。第二维是1或者是2的值代表以i为主件的附件1或者附件2的相关信息（费用 价值）。这些数组的信息应该在读入时处理好，具体详见代码。</h3><h3 id="这样，状态转移方程就是四个。"><a href="#这样，状态转移方程就是四个。" class="headerlink" title="这样，状态转移方程就是四个。"></a>这样，状态转移方程就是四个。</h3><h3 id="不选附件的①：f-j-x3D-max-f-j-f-j-main-item-w-i-main-item-c-i"><a href="#不选附件的①：f-j-x3D-max-f-j-f-j-main-item-w-i-main-item-c-i" class="headerlink" title="不选附件的①：f[j] &#x3D; max(f[j],f[j-main_item_w[i]]+main_item_c[i]);"></a>不选附件的①：f[j] &#x3D; max(f[j],f[j-main_item_w[i]]+main_item_c[i]);</h3><h3 id="选附件1的②：f-j-x3D-max-f-j-f-j-main-item-w-i-annex-item-w-i-1-main-item-c-i-annex-item-c-i-1"><a href="#选附件1的②：f-j-x3D-max-f-j-f-j-main-item-w-i-annex-item-w-i-1-main-item-c-i-annex-item-c-i-1" class="headerlink" title="选附件1的②：f[j] &#x3D; max(f[j],f[ j - main_item_w[i] - annex_item_w[i][1] ] + main_item_c[i] + annex_item_c[i][1]);"></a>选附件1的②：f[j] &#x3D; max(f[j],f[ j - main_item_w[i] - annex_item_w[i][1] ] + main_item_c[i] + annex_item_c[i][1]);</h3><h3 id="选附件2的③：f-j-x3D-max-f-j-f-j-main-item-w-i-annex-item-w-i-2-main-item-c-i-annex-item-c-i-2"><a href="#选附件2的③：f-j-x3D-max-f-j-f-j-main-item-w-i-annex-item-w-i-2-main-item-c-i-annex-item-c-i-2" class="headerlink" title="选附件2的③：f[j] &#x3D; max(f[j],f[ j - main_item_w[i] - annex_item_w[i][2] ] + main_item_c[i] + annex_item_c[i][2]);"></a>选附件2的③：f[j] &#x3D; max(f[j],f[ j - main_item_w[i] - annex_item_w[i][2] ] + main_item_c[i] + annex_item_c[i][2]);</h3><h3 id="选附件1和附件2的④：f-j-x3D-max-f-j-f-j-main-item-w-i-annex-item-w-i-1-annex-item-w-i-2-main-item-c-i-annex-item-c-i-1-annex-item-c-i-2"><a href="#选附件1和附件2的④：f-j-x3D-max-f-j-f-j-main-item-w-i-annex-item-w-i-1-annex-item-w-i-2-main-item-c-i-annex-item-c-i-1-annex-item-c-i-2" class="headerlink" title="选附件1和附件2的④：f[j] &#x3D; max(f[j],f[ j - main_item_w[i] - annex_item_w[i][1] - annex_item_w[i][2] ] + main_item_c[i] + annex_item_c[i][1] + annex_item_c[i][2]);"></a>选附件1和附件2的④：f[j] &#x3D; max(f[j],f[ j - main_item_w[i] - annex_item_w[i][1] - annex_item_w[i][2] ] + main_item_c[i] + annex_item_c[i][1] + annex_item_c[i][2]);</h3><h3 id="已经滚动掉了第一维，道理和正常向的01背包都是一样的，即只有i和i-1有关系，但是这个规律在循环中已经满足了所以完全没必要记录。"><a href="#已经滚动掉了第一维，道理和正常向的01背包都是一样的，即只有i和i-1有关系，但是这个规律在循环中已经满足了所以完全没必要记录。" class="headerlink" title="已经滚动掉了第一维，道理和正常向的01背包都是一样的，即只有i和i-1有关系，但是这个规律在循环中已经满足了所以完全没必要记录。"></a>已经滚动掉了第一维，道理和正常向的01背包都是一样的，即只有i和i-1有关系，但是这个规律在循环中已经满足了所以完全没必要记录。</h3><h3 id="目标状态f-n-，输出就好。"><a href="#目标状态f-n-，输出就好。" class="headerlink" title="目标状态f[n]，输出就好。"></a>目标状态f[n]，输出就好。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> mata_v[<span class="number">105</span>],mata_p[<span class="number">105</span>],mata_bl[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> next_v[<span class="number">105</span>][<span class="number">3</span>],next_p[<span class="number">105</span>][<span class="number">3</span>];</span><br><span class="line"><span class="type">int</span> f[<span class="number">32005</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> n,m;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="type">int</span> v,p,q;</span><br><span class="line">		cin&gt;&gt;v&gt;&gt;p&gt;&gt;q;</span><br><span class="line">		<span class="keyword">if</span>(!q)&#123;</span><br><span class="line">			mata_v[i]=v;mata_p[i]=p;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			mata_bl[q]++;</span><br><span class="line">			next_v[q][mata_bl[q]]=v;</span><br><span class="line">			next_p[q][mata_bl[q]]=p;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=n;mata_v[i]&amp;&amp;j&gt;=mata_v[i];j--)&#123;</span><br><span class="line">			f[j]=<span class="built_in">max</span>(f[j],f[j-mata_v[i]]+mata_v[i]*mata_p[i]);</span><br><span class="line">			<span class="keyword">if</span>(j&gt;=mata_v[i]+next_v[i][<span class="number">1</span>]) f[j]=<span class="built_in">max</span>(f[j],f[j-mata_v[i]-next_v[i][<span class="number">1</span>]]+mata_v[i]*mata_p[i]+next_v[i][<span class="number">1</span>]*next_p[i][<span class="number">1</span>]);	</span><br><span class="line">			<span class="keyword">if</span>(j&gt;=mata_v[i]+next_v[i][<span class="number">2</span>]) f[j]=<span class="built_in">max</span>(f[j],f[j-mata_v[i]-next_v[i][<span class="number">2</span>]]+mata_v[i]*mata_p[i]+next_v[i][<span class="number">2</span>]*next_p[i][<span class="number">2</span>]);</span><br><span class="line">			<span class="keyword">if</span>(j&gt;=mata_v[i]+next_v[i][<span class="number">1</span>]+next_v[i][<span class="number">2</span>]) f[j]=<span class="built_in">max</span>(f[j],f[j-mata_v[i]-next_v[i][<span class="number">1</span>]-next_v[i][<span class="number">2</span>]]+mata_v[i]*mata_p[i]+next_v[i][<span class="number">1</span>]*next_p[i][<span class="number">1</span>]+next_v[i][<span class="number">2</span>]*next_p[i][<span class="number">2</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	cout&lt;&lt;f[n];</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/12/25/week8-answer/" data-id="cld161pf0000iygu8febb9tt0" data-title="week8-answer" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/answer/" rel="tag">answer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week8/" rel="tag">week8</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-week7-answer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/12/25/week7-answer/" class="article-date">
  <time class="dt-published" datetime="2022-12-25T07:56:23.000Z" itemprop="datePublished">2022-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/12/25/week7-answer/">week7 answer</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-采药"><a href="#1-采药" class="headerlink" title="1.采药"></a>1.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1048">采药</a></h2><h3 id="res-i-j-表示采i颗药时还有j时间，状态方程为res-i-j-x3D-max-res-i-1-j-res-i-1-j-ti-i-v-i"><a href="#res-i-j-表示采i颗药时还有j时间，状态方程为res-i-j-x3D-max-res-i-1-j-res-i-1-j-ti-i-v-i" class="headerlink" title="res[i][j]表示采i颗药时还有j时间，状态方程为res[i][j]&#x3D;max(res[i-1][j],res[i-1][j-ti[i]]+v[i]);"></a>res[i][j]表示采i颗药时还有j时间，状态方程为res[i][j]&#x3D;max(res[i-1][j],res[i-1][j-ti[i]]+v[i]);</h3><h3 id="此代码为初学时用dfs遍历，有所不同"><a href="#此代码为初学时用dfs遍历，有所不同" class="headerlink" title="此代码为初学时用dfs遍历，有所不同"></a>此代码为初学时用dfs遍历，有所不同</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> res[<span class="number">105</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="type">int</span> ti[<span class="number">1005</span>],v[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> i,<span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> ans;</span><br><span class="line">	<span class="keyword">if</span>(res[i][j]!=<span class="number">-1</span>) ans=res[i][j];</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">0</span>) &#123;</span><br><span class="line">		res[i][j]=<span class="number">0</span>;</span><br><span class="line">		ans=<span class="number">0</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span>(ti[i]&gt;j) &#123;</span><br><span class="line">		res[i][j]=<span class="built_in">dfs</span>(i<span class="number">-1</span>,j);</span><br><span class="line">		ans=res[i][j];</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		res[i][j]=<span class="built_in">max</span>(<span class="built_in">dfs</span>(i<span class="number">-1</span>,j),<span class="built_in">dfs</span>(i<span class="number">-1</span>,j-ti[i])+v[i]);</span><br><span class="line">		ans=res[i][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> t,m;</span><br><span class="line">	<span class="built_in">memset</span>(res,<span class="number">-1</span>,<span class="built_in">sizeof</span>(res));</span><br><span class="line">	cin&gt;&gt;t&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=m; i++) &#123;</span><br><span class="line">		cin&gt;&gt;ti[i]&gt;&gt;v[i];</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">dfs</span>(m,t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-最长上升子序列"><a href="#2-最长上升子序列" class="headerlink" title="2.最长上升子序列"></a>2.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/B3637">最长上升子序列</a></h2><h3 id="如果一个上升子序列的最大值小于一个在它后面的数，那么这个数和这个子序列可以拼成一个更长的上升子序列。"><a href="#如果一个上升子序列的最大值小于一个在它后面的数，那么这个数和这个子序列可以拼成一个更长的上升子序列。" class="headerlink" title="如果一个上升子序列的最大值小于一个在它后面的数，那么这个数和这个子序列可以拼成一个更长的上升子序列。"></a>如果一个上升子序列的最大值小于一个在它后面的数，那么这个数和这个子序列可以拼成一个更长的上升子序列。</h3><h3 id="例如一组数据：1-2-4-1-3-4。"><a href="#例如一组数据：1-2-4-1-3-4。" class="headerlink" title="例如一组数据：1,2,4,1,3,4。"></a>例如一组数据：1,2,4,1,3,4。</h3><h3 id="我们知道，1-2-3-为一个上升子序列，但是-3-后面的-4-和这个上升子序列拼接后可以组成一个更长的上升子序列。"><a href="#我们知道，1-2-3-为一个上升子序列，但是-3-后面的-4-和这个上升子序列拼接后可以组成一个更长的上升子序列。" class="headerlink" title="我们知道，1,2,3 为一个上升子序列，但是 3 后面的 4 和这个上升子序列拼接后可以组成一个更长的上升子序列。"></a>我们知道，1,2,3 为一个上升子序列，但是 3 后面的 4 和这个上升子序列拼接后可以组成一个更长的上升子序列。</h3><h3 id="所以，我们可以设计-f-i-，表示以第-i-个数为结尾的最长上升子序列的长度。"><a href="#所以，我们可以设计-f-i-，表示以第-i-个数为结尾的最长上升子序列的长度。" class="headerlink" title="所以，我们可以设计 f(i)，表示以第 i 个数为结尾的最长上升子序列的长度。"></a>所以，我们可以设计 f(i)，表示以第 i 个数为结尾的最长上升子序列的长度。</h3><h3 id="再以上面的数据为例子，就可以列出表格："><a href="#再以上面的数据为例子，就可以列出表格：" class="headerlink" title="再以上面的数据为例子，就可以列出表格："></a>再以上面的数据为例子，就可以列出表格：</h3><p> n	1 	2 	3 	4 	5 	6<br>an	1 	2 	4 	1 	3 	4<br>f(n)1 	2 	3 	1 	3 	4</p>
<h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><h4 id="读入数据；"><a href="#读入数据；" class="headerlink" title="读入数据；"></a>读入数据；</h4><h4 id="大循环开始，从-1-到-n，计算-fi，记得初始值是-1；"><a href="#大循环开始，从-1-到-n，计算-fi，记得初始值是-1；" class="headerlink" title="大循环开始，从 1 到 n，计算 fi，记得初始值是 1；"></a>大循环开始，从 1 到 n，计算 fi，记得初始值是 1；</h4><h4 id="小循环，从-1-到-i−1，如果-aj-小于-ai-的话，说明这个数可以和-fi-组成上升子序列，则-fi-取-max⁡-fi-fj-1-；"><a href="#小循环，从-1-到-i−1，如果-aj-小于-ai-的话，说明这个数可以和-fi-组成上升子序列，则-fi-取-max⁡-fi-fj-1-；" class="headerlink" title="小循环，从 1 到 i−1，如果 aj 小于 ai 的话，说明这个数可以和 fi 组成上升子序列，则 fi 取 max⁡(fi,fj+1)；"></a>小循环，从 1 到 i−1，如果 aj 小于 ai 的话，说明这个数可以和 fi 组成上升子序列，则 fi 取 max⁡(fi,fj+1)；</h4><h4 id="寻找最大值；"><a href="#寻找最大值；" class="headerlink" title="寻找最大值；"></a>寻找最大值；</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t[<span class="number">5005</span>];</span><br><span class="line"><span class="type">int</span> f[<span class="number">5005</span>];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">		cin&gt;&gt;t[i];f[i]=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> ans=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=i<span class="number">-1</span>;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(t[j]&lt;t[i]) f[i]=<span class="built_in">max</span>(f[i],f[j]+<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		ans=<span class="built_in">max</span>(ans,f[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-最大字段和"><a href="#3-最大字段和" class="headerlink" title="3.最大字段和"></a>3.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1115">最大字段和</a></h2><h3 id="首先，我们现在纸上写一写："><a href="#首先，我们现在纸上写一写：" class="headerlink" title="首先，我们现在纸上写一写："></a>首先，我们现在纸上写一写：</h3><h3 id="2、-4、3、-1、2、-4、3。答案4（选3、-1、2）"><a href="#2、-4、3、-1、2、-4、3。答案4（选3、-1、2）" class="headerlink" title="2、-4、3、-1、2、-4、3。答案4（选3、-1、2）"></a>2、-4、3、-1、2、-4、3。答案4（选3、-1、2）</h3><h3 id="那么是怎么推出来的呢？"><a href="#那么是怎么推出来的呢？" class="headerlink" title="那么是怎么推出来的呢？"></a>那么是怎么推出来的呢？</h3><h3 id="首先看到第一个数，是2。"><a href="#首先看到第一个数，是2。" class="headerlink" title="首先看到第一个数，是2。"></a>首先看到第一个数，是2。</h3><h3 id="2后面是-4，所以如果-4是答案的一部分，那么2一定也要加上去（答案就增加了）"><a href="#2后面是-4，所以如果-4是答案的一部分，那么2一定也要加上去（答案就增加了）" class="headerlink" title="2后面是-4，所以如果-4是答案的一部分，那么2一定也要加上去（答案就增加了）"></a>2后面是-4，所以如果-4是答案的一部分，那么2一定也要加上去（答案就增加了）</h3><h3 id="随后是3。"><a href="#随后是3。" class="headerlink" title="随后是3。"></a>随后是3。</h3><h3 id="如果3把前面的2和-4加上去，结果是1。这个时候反而比原来的3要小了。所以如果答案含有3，就一定不会加上前面的2和-4。"><a href="#如果3把前面的2和-4加上去，结果是1。这个时候反而比原来的3要小了。所以如果答案含有3，就一定不会加上前面的2和-4。" class="headerlink" title="如果3把前面的2和-4加上去，结果是1。这个时候反而比原来的3要小了。所以如果答案含有3，就一定不会加上前面的2和-4。"></a>如果3把前面的2和-4加上去，结果是1。这个时候反而比原来的3要小了。所以如果答案含有3，就一定不会加上前面的2和-4。</h3><h3 id="下一个数是-1。这个数加上前面的3之后增加了数值（变成了2），所以如果答案有-1，辣么绝对还有前面的3。"><a href="#下一个数是-1。这个数加上前面的3之后增加了数值（变成了2），所以如果答案有-1，辣么绝对还有前面的3。" class="headerlink" title="下一个数是-1。这个数加上前面的3之后增加了数值（变成了2），所以如果答案有-1，辣么绝对还有前面的3。"></a>下一个数是-1。这个数加上前面的3之后增加了数值（变成了2），所以如果答案有-1，辣么绝对还有前面的3。</h3><h3 id="接下来是2，如果2加上前面的序列（3、-1），辣么它的值变为4。比原先增加了。"><a href="#接下来是2，如果2加上前面的序列（3、-1），辣么它的值变为4。比原先增加了。" class="headerlink" title="接下来是2，如果2加上前面的序列（3、-1），辣么它的值变为4。比原先增加了。"></a>接下来是2，如果2加上前面的序列（3、-1），辣么它的值变为4。比原先增加了。</h3><h3 id="然后是-4，如果把-4加上前面的序列（3、-1、2），结果会变成0，比原先的-4大，所以如果-4是答案的一部分，那么前面的三个数也一定是答案的一部分。"><a href="#然后是-4，如果把-4加上前面的序列（3、-1、2），结果会变成0，比原先的-4大，所以如果-4是答案的一部分，那么前面的三个数也一定是答案的一部分。" class="headerlink" title="然后是-4，如果把-4加上前面的序列（3、-1、2），结果会变成0，比原先的-4大，所以如果-4是答案的一部分，那么前面的三个数也一定是答案的一部分。"></a>然后是-4，如果把-4加上前面的序列（3、-1、2），结果会变成0，比原先的-4大，所以如果-4是答案的一部分，那么前面的三个数也一定是答案的一部分。</h3><h3 id="最后一个数，也就是3，如果将3加上前面的序列，结果变成了3。"><a href="#最后一个数，也就是3，如果将3加上前面的序列，结果变成了3。" class="headerlink" title="最后一个数，也就是3，如果将3加上前面的序列，结果变成了3。"></a>最后一个数，也就是3，如果将3加上前面的序列，结果变成了3。</h3><h3 id="最后我们来看一看刚推导的结果，发现4是我们可以得出的最大和。"><a href="#最后我们来看一看刚推导的结果，发现4是我们可以得出的最大和。" class="headerlink" title="最后我们来看一看刚推导的结果，发现4是我们可以得出的最大和。"></a>最后我们来看一看刚推导的结果，发现4是我们可以得出的最大和。</h3><h3 id="故输出4"><a href="#故输出4" class="headerlink" title="故输出4"></a>故输出4</h3><h3 id="第一个数为一个有效序列-第一个数为一个有效序列-如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。-如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。-如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列-如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列"><a href="#第一个数为一个有效序列-第一个数为一个有效序列-如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。-如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。-如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列-如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列" class="headerlink" title="- 第一个数为一个有效序列- 第一个数为一个有效序列 - 如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。- 如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。 - 如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列- 如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列"></a>- 第一个数为一个有效序列- 第一个数为一个有效序列 - 如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。- 如果一个数加上上一个有效序列得到的结果比这个数大，那么该数也属于这个有效序列。 - 如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列- 如果一个数加上上一个有效序列得到的结果比这个数小，那么这个数单独成为一个新的有效序列</h3><h3 id="在处理的过程中计算有效序列的所有元素之和。"><a href="#在处理的过程中计算有效序列的所有元素之和。" class="headerlink" title="在处理的过程中计算有效序列的所有元素之和。"></a>在处理的过程中计算有效序列的所有元素之和。</h3><h3 id="最后取最大值即可。"><a href="#最后取最大值即可。" class="headerlink" title="最后取最大值即可。"></a>最后取最大值即可。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> b[<span class="number">200005</span>];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> ans=<span class="number">-1e5</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> t;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">		cin&gt;&gt;t;</span><br><span class="line">		<span class="keyword">if</span>(i==<span class="number">1</span>) &#123;</span><br><span class="line">			ans=t;</span><br><span class="line">			b[i]=t;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			b[i]=<span class="built_in">max</span>(t,b[i<span class="number">-1</span>]+t);</span><br><span class="line">		&#125;</span><br><span class="line">		ans=<span class="built_in">max</span>(ans,b[i]);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-LCS"><a href="#4-LCS" class="headerlink" title="4.LCS"></a>4.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/AT_dp_f">LCS</a></h2><h3 id="https-414308-blog-luogu-org-solution-at4527"><a href="#https-414308-blog-luogu-org-solution-at4527" class="headerlink" title="(https://414308.blog.luogu.org/solution-at4527#)"></a>(<a target="_blank" rel="noopener" href="https://414308.blog.luogu.org/solution-at4527#">https://414308.blog.luogu.org/solution-at4527#</a>)</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> dp[<span class="number">3005</span>][<span class="number">3005</span>];</span><br><span class="line"><span class="type">char</span> a[<span class="number">3005</span>],b[<span class="number">3005</span>];</span><br><span class="line"><span class="type">char</span> ans[<span class="number">3005</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>,a+<span class="number">1</span>,b+<span class="number">1</span>);</span><br><span class="line">	<span class="type">int</span> x=<span class="built_in">strlen</span>(a+<span class="number">1</span>),y=<span class="built_in">strlen</span>(b+<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=x; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>; j&lt;=y; j++) &#123;</span><br><span class="line">			dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i][j<span class="number">-1</span>]);</span><br><span class="line">			<span class="keyword">if</span>(a[i]==b[j]) &#123;</span><br><span class="line">				dp[i][j]=<span class="built_in">max</span>(dp[i][j],dp[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> i=x,j=y;</span><br><span class="line">	<span class="keyword">while</span>(dp[i][j]&gt;<span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==b[j]) &#123;</span><br><span class="line">			ans[dp[i][j]]=a[i];</span><br><span class="line">			i--;</span><br><span class="line">			j--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(dp[i][j]==dp[i<span class="number">-1</span>][j]) i--;</span><br><span class="line">			<span class="keyword">else</span> j--;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>,ans+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/12/25/week7-answer/" data-id="cld161pey000gygu8hwy9fpj3" data-title="week7 answer" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week7/" rel="tag">week7</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-第三次周赛-2022-12-11" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/12/25/%E7%AC%AC%E4%B8%89%E6%AC%A1%E5%91%A8%E8%B5%9B-2022-12-11/" class="article-date">
  <time class="dt-published" datetime="2022-12-25T07:12:47.000Z" itemprop="datePublished">2022-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/12/25/%E7%AC%AC%E4%B8%89%E6%AC%A1%E5%91%A8%E8%B5%9B-2022-12-11/">“第三次周赛”</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-打字"><a href="#1-打字" class="headerlink" title="1.打字"></a>1.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1601929365221535744/exam/problems/1601929430212268032">打字</a></h2><h3 id="签到题，需要注意由于右手小指所对应的输出较复杂，因此不用列举出来，直接放在最后用else即可"><a href="#签到题，需要注意由于右手小指所对应的输出较复杂，因此不用列举出来，直接放在最后用else即可" class="headerlink" title="签到题，需要注意由于右手小指所对应的输出较复杂，因此不用列举出来，直接放在最后用else即可"></a>签到题，需要注意由于右手小指所对应的输出较复杂，因此不用列举出来，直接放在最后用else即可</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">string s;</span><br><span class="line"><span class="type">int</span> a,c,d,f,g,h,j,k,l,n; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;s;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">length</span>();i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(s[i]==<span class="string">&#x27;`&#x27;</span>||s[i]==<span class="string">&#x27;1&#x27;</span>||s[i]==<span class="string">&#x27;Q&#x27;</span>||s[i]==<span class="string">&#x27;A&#x27;</span>||s[i]==<span class="string">&#x27;Z&#x27;</span>) a++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;2&#x27;</span>||s[i]==<span class="string">&#x27;W&#x27;</span>||s[i]==<span class="string">&#x27;S&#x27;</span>||s[i]==<span class="string">&#x27;X&#x27;</span>) c++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;3&#x27;</span>||s[i]==<span class="string">&#x27;E&#x27;</span>||s[i]==<span class="string">&#x27;D&#x27;</span>||s[i]==<span class="string">&#x27;C&#x27;</span>) d++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;4&#x27;</span>||s[i]==<span class="string">&#x27;R&#x27;</span>||s[i]==<span class="string">&#x27;F&#x27;</span>||s[i]==<span class="string">&#x27;V&#x27;</span>) f++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;5&#x27;</span>||s[i]==<span class="string">&#x27;T&#x27;</span>||s[i]==<span class="string">&#x27;G&#x27;</span>||s[i]==<span class="string">&#x27;B&#x27;</span>) g++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;6&#x27;</span>||s[i]==<span class="string">&#x27;Y&#x27;</span>||s[i]==<span class="string">&#x27;H&#x27;</span>||s[i]==<span class="string">&#x27;N&#x27;</span>) h++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;7&#x27;</span>||s[i]==<span class="string">&#x27;U&#x27;</span>||s[i]==<span class="string">&#x27;J&#x27;</span>||s[i]==<span class="string">&#x27;M&#x27;</span>) j++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;8&#x27;</span>||s[i]==<span class="string">&#x27;I&#x27;</span>||s[i]==<span class="string">&#x27;K&#x27;</span>||s[i]==<span class="string">&#x27;,&#x27;</span>) k++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;9&#x27;</span>||s[i]==<span class="string">&#x27;O&#x27;</span>||s[i]==<span class="string">&#x27;L&#x27;</span>||s[i]==<span class="string">&#x27;.&#x27;</span>) l++;</span><br><span class="line">		<span class="keyword">else</span>  n++;   <span class="comment">//对应小指</span></span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;c&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;d&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;f+g&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;h+j&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;k&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;l&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;n&lt;&lt;endl;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="2-切香肠"><a href="#2-切香肠" class="headerlink" title="2.切香肠"></a>2.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1601929365221535744/exam/problems/1601929430212268033">切香肠</a></h2><h3 id="可以看出，以下切割策略是最佳的。"><a href="#可以看出，以下切割策略是最佳的。" class="headerlink" title="可以看出，以下切割策略是最佳的。"></a>可以看出，以下切割策略是最佳的。</h3><h3 id="我们将香肠排列成一条直线，一条接着一条（从而获得由N个较短线段组成的线段）。将这条线切割成M个相等的线段可以得到所需的解。虽然我们在概念上做的是M-1切，但其中一些不是真正的切，而是落在香肠之间（较短的线段）。"><a href="#我们将香肠排列成一条直线，一条接着一条（从而获得由N个较短线段组成的线段）。将这条线切割成M个相等的线段可以得到所需的解。虽然我们在概念上做的是M-1切，但其中一些不是真正的切，而是落在香肠之间（较短的线段）。" class="headerlink" title="我们将香肠排列成一条直线，一条接着一条（从而获得由N个较短线段组成的线段）。将这条线切割成M个相等的线段可以得到所需的解。虽然我们在概念上做的是M-1切，但其中一些不是真正的切，而是落在香肠之间（较短的线段）。"></a>我们将香肠排列成一条直线，一条接着一条（从而获得由N个较短线段组成的线段）。将这条线切割成M个相等的线段可以得到所需的解。虽然我们在概念上做的是M-1切，但其中一些不是真正的切，而是落在香肠之间（较短的线段）。</h3><h3 id="例如，对于两条香肠和四个品尝者，第一次切是真实的，将第一条香肠分成两半，第二次切不是真实的，因为它实际上在两条香肠之间，第三次切是真的，将第二条香肠分成一半。"><a href="#例如，对于两条香肠和四个品尝者，第一次切是真实的，将第一条香肠分成两半，第二次切不是真实的，因为它实际上在两条香肠之间，第三次切是真的，将第二条香肠分成一半。" class="headerlink" title="例如，对于两条香肠和四个品尝者，第一次切是真实的，将第一条香肠分成两半，第二次切不是真实的，因为它实际上在两条香肠之间，第三次切是真的，将第二条香肠分成一半。"></a>例如，对于两条香肠和四个品尝者，第一次切是真实的，将第一条香肠分成两半，第二次切不是真实的，因为它实际上在两条香肠之间，第三次切是真的，将第二条香肠分成一半。</h3><p>因此，我们可以简单地使用for循环来检查，对于对于每一次切割，它是真切割还是原本中间就是分开的。</p>
<h3 id="另外，有一个明确的公式：解-x3D-M-gcd-N，M-（gcd即最大公约数）"><a href="#另外，有一个明确的公式：解-x3D-M-gcd-N，M-（gcd即最大公约数）" class="headerlink" title="另外，有一个明确的公式：解&#x3D;M-gcd(N，M) （gcd即最大公约数）"></a>另外，有一个明确的公式：解&#x3D;M-gcd(N，M) （gcd即最大公约数）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> m)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n%m==<span class="number">0</span>?m:<span class="built_in">gcd</span>(m,n%m);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	cout&lt;&lt;m-<span class="built_in">gcd</span>(n,m);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-会议安排"><a href="#3-会议安排" class="headerlink" title="3.会议安排"></a>3.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1601929365221535744/exam/problems/1601929430212268034">会议安排</a></h2><h3 id="直接对所有会议排序，按结束时间从早到晚排序，这样依次选择会议将会最多"><a href="#直接对所有会议排序，按结束时间从早到晚排序，这样依次选择会议将会最多" class="headerlink" title="直接对所有会议排序，按结束时间从早到晚排序，这样依次选择会议将会最多"></a>直接对所有会议排序，按结束时间从早到晚排序，这样依次选择会议将会最多</h3><h3 id="然后从第一场会议开始遍历，若时间冲突则跳过，选择所有可选会议就是答案"><a href="#然后从第一场会议开始遍历，若时间冲突则跳过，选择所有可选会议就是答案" class="headerlink" title="然后从第一场会议开始遍历，若时间冲突则跳过，选择所有可选会议就是答案"></a>然后从第一场会议开始遍历，若时间冲突则跳过，选择所有可选会议就是答案</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> vis[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">meeting</span>&#123;</span><br><span class="line">	<span class="type">int</span> st,ed;</span><br><span class="line">&#125;s[<span class="number">100005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(meeting a,meeting b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a.ed&lt;b.ed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">while</span>(n--)&#123;</span><br><span class="line">		<span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="built_in">sizeof</span>(vis));   </span><br><span class="line">		cin&gt;&gt;m;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">			cin&gt;&gt;s[i].st&gt;&gt;s[i].ed;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">sort</span>(s+<span class="number">1</span>,s+<span class="number">1</span>+m,cmp);    <span class="comment">//排序</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;  <span class="comment">//遍历</span></span><br><span class="line">			<span class="keyword">if</span>(!vis[i])&#123;</span><br><span class="line">				vis[i]=<span class="number">1</span>;          <span class="comment">//标记</span></span><br><span class="line">				cnt++;</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">					<span class="keyword">if</span>(s[j].st&lt;s[i].ed) vis[j]=<span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		cout&lt;&lt;cnt&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="4-神奇密码"><a href="#4-神奇密码" class="headerlink" title="4.神奇密码"></a>4.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1601929365221535744/exam/problems/1601929430212268035">神奇密码</a></h2><h3 id="SAD-4MLE-2TLE-2RE-2WA"><a href="#SAD-4MLE-2TLE-2RE-2WA" class="headerlink" title="SAD[4MLE[2TLE[2RE[2WA]]]"></a>SAD[4MLE[2TLE[2RE[2WA]]]</h3><h3 id="首先找到被「压缩」的部分："><a href="#首先找到被「压缩」的部分：" class="headerlink" title="首先找到被「压缩」的部分："></a>首先找到被「压缩」的部分：</h3><h3 id="2MLE-2TLE-2RE-2WA"><a href="#2MLE-2TLE-2RE-2WA" class="headerlink" title="[2MLE[2TLE[2RE[2WA]]]]"></a>[2MLE[2TLE[2RE[2WA]]]]</h3><h3 id="（从此处开始剩下的部分就是递归的内容了，全部由程序自主实现）"><a href="#（从此处开始剩下的部分就是递归的内容了，全部由程序自主实现）" class="headerlink" title="（从此处开始剩下的部分就是递归的内容了，全部由程序自主实现）"></a>（从此处开始剩下的部分就是递归的内容了，全部由程序自主实现）</h3><h3 id="对这个部分进行解压，找到被「压缩」的部分："><a href="#对这个部分进行解压，找到被「压缩」的部分：" class="headerlink" title="对这个部分进行解压，找到被「压缩」的部分："></a>对这个部分进行解压，找到被「压缩」的部分：</h3><h3 id="2TLE-2RE-2WA"><a href="#2TLE-2RE-2WA" class="headerlink" title="[2TLE[2RE[2WA]]]"></a>[2TLE[2RE[2WA]]]</h3><h3 id="再对这个部分进行解压，找到被「压缩」的部分："><a href="#再对这个部分进行解压，找到被「压缩」的部分：" class="headerlink" title="再对这个部分进行解压，找到被「压缩」的部分："></a>再对这个部分进行解压，找到被「压缩」的部分：</h3><h3 id="2RE-2WA"><a href="#2RE-2WA" class="headerlink" title="[2RE[2WA]]"></a>[2RE[2WA]]</h3><h3 id="再对这个部分进行解压，找到被「压缩」的部分：-1"><a href="#再对这个部分进行解压，找到被「压缩」的部分：-1" class="headerlink" title="再对这个部分进行解压，找到被「压缩」的部分："></a>再对这个部分进行解压，找到被「压缩」的部分：</h3><h3 id="2WA"><a href="#2WA" class="headerlink" title="[2WA]"></a>[2WA]</h3><h3 id="（开始一层一层跳出递归）"><a href="#（开始一层一层跳出递归）" class="headerlink" title="（开始一层一层跳出递归）"></a>（开始一层一层跳出递归）</h3><h3 id="对这个部分进行解压并加到前一个字符串的末尾："><a href="#对这个部分进行解压并加到前一个字符串的末尾：" class="headerlink" title="对这个部分进行解压并加到前一个字符串的末尾："></a>对这个部分进行解压并加到前一个字符串的末尾：</h3><h3 id="2REWAWA"><a href="#2REWAWA" class="headerlink" title="[2REWAWA]"></a>[2REWAWA]</h3><h3 id="再对这个部分进行解压并加到前一个字符串的末尾："><a href="#再对这个部分进行解压并加到前一个字符串的末尾：" class="headerlink" title="再对这个部分进行解压并加到前一个字符串的末尾："></a>再对这个部分进行解压并加到前一个字符串的末尾：</h3><h3 id="2TLEREWAWAREWAWA"><a href="#2TLEREWAWAREWAWA" class="headerlink" title="[2TLEREWAWAREWAWA]"></a>[2TLEREWAWAREWAWA]</h3><h3 id="再对这个部分进行解压并加到前一个字符串的末尾：-1"><a href="#再对这个部分进行解压并加到前一个字符串的末尾：-1" class="headerlink" title="再对这个部分进行解压并加到前一个字符串的末尾："></a>再对这个部分进行解压并加到前一个字符串的末尾：</h3><h3 id="2MLETLEREWAWAREWAWATLEREWAWAREWAWA"><a href="#2MLETLEREWAWAREWAWATLEREWAWAREWAWA" class="headerlink" title="[2MLETLEREWAWAREWAWATLEREWAWAREWAWA]"></a>[2MLETLEREWAWAREWAWATLEREWAWAREWAWA]</h3><h3 id="再对这个部分进行解压并加到前一个字符串的末尾：-2"><a href="#再对这个部分进行解压并加到前一个字符串的末尾：-2" class="headerlink" title="再对这个部分进行解压并加到前一个字符串的末尾："></a>再对这个部分进行解压并加到前一个字符串的末尾：</h3><h3 id="SADMLETLEREWAWAREWAWATLEREWAWAREWAWAMLETLEREWAWAREWAWATLEREWAWAREWAWA"><a href="#SADMLETLEREWAWAREWAWATLEREWAWAREWAWAMLETLEREWAWAREWAWATLEREWAWAREWAWA" class="headerlink" title="SADMLETLEREWAWAREWAWATLEREWAWAREWAWAMLETLEREWAWAREWAWATLEREWAWAREWAWA"></a>SADMLETLEREWAWAREWAWATLEREWAWAREWAWAMLETLEREWAWAREWAWATLEREWAWAREWAWA</h3><h3 id="至此，递归结束，「密码」破译完毕。"><a href="#至此，递归结束，「密码」破译完毕。" class="headerlink" title="至此，递归结束，「密码」破译完毕。"></a>至此，递归结束，「密码」破译完毕。</h3><h3 id="所以，我们只需要找到被「压缩」的子串，并把这个字符串扔给「解压缩」程序即可。"><a href="#所以，我们只需要找到被「压缩」的子串，并把这个字符串扔给「解压缩」程序即可。" class="headerlink" title="所以，我们只需要找到被「压缩」的子串，并把这个字符串扔给「解压缩」程序即可。"></a>所以，我们只需要找到被「压缩」的子串，并把这个字符串扔给「解压缩」程序即可。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="type">char</span> ch;</span><br><span class="line">	string s,str;</span><br><span class="line">	<span class="keyword">while</span>(cin&gt;&gt;ch) &#123;</span><br><span class="line">		<span class="keyword">if</span>(ch==<span class="string">&#x27;[&#x27;</span>) &#123;</span><br><span class="line">			cin&gt;&gt;n;</span><br><span class="line">			str=<span class="built_in">read</span>();</span><br><span class="line">			<span class="keyword">while</span>(n--) s+=str;</span><br><span class="line">		&#125; </span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (ch==<span class="string">&#x27;]&#x27;</span>) <span class="keyword">return</span> s;</span><br><span class="line">		<span class="keyword">else</span> s+=ch;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">read</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-国王游戏"><a href="#5-国王游戏" class="headerlink" title="5.国王游戏"></a>5.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1601929365221535744/exam/problems/1601929430212268036">国王游戏</a></h2><h3 id="做法：直接将所有大臣按左右手上的数的乘积从小到大排序，得到的序列就是最优排队方案。"><a href="#做法：直接将所有大臣按左右手上的数的乘积从小到大排序，得到的序列就是最优排队方案。" class="headerlink" title="做法：直接将所有大臣按左右手上的数的乘积从小到大排序，得到的序列就是最优排队方案。"></a>做法：直接将所有大臣按左右手上的数的乘积从小到大排序，得到的序列就是最优排队方案。</h3><h3 id="另外还需注意有高精度计算"><a href="#另外还需注意有高精度计算" class="headerlink" title="另外还需注意有高精度计算"></a>另外还需注意有高精度计算</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MOD 10000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> a,b;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mul</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> b,<span class="type">int</span> *c)</span>  <span class="comment">// c=a*b</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> len=a[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;len+<span class="number">5</span>; i++)</span><br><span class="line"></span><br><span class="line">		c[i]=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;=len; i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		c[i]+=(a[i]*b);</span><br><span class="line"></span><br><span class="line">		c[i+<span class="number">1</span>]+=(c[i]/MOD);</span><br><span class="line"></span><br><span class="line">		c[i]%=MOD;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (c[len+<span class="number">1</span>]&gt;<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		len++;</span><br><span class="line"></span><br><span class="line">		c[len+<span class="number">1</span>]+=(c[len]/MOD);</span><br><span class="line"></span><br><span class="line">		c[len]%=MOD;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	c[<span class="number">0</span>]=len;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">div</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> b,<span class="type">int</span> *c)</span>  <span class="comment">// c=a/b</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> len=a[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> r=<span class="number">0</span>;   <span class="comment">// 余数</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i=len; i&gt;=<span class="number">1</span>; i--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		r=r*MOD+a[i];</span><br><span class="line"></span><br><span class="line">		c[i]=r/b;</span><br><span class="line"></span><br><span class="line">		r=r%b;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (!c[len]) len--;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (!len) len=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	c[<span class="number">0</span>]=len;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">getMax</span><span class="params">(<span class="type">int</span> *x,<span class="type">int</span> *y)</span>   <span class="comment">// x=max(x,y)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (y[<span class="number">0</span>]&lt;x[<span class="number">0</span>]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (x[<span class="number">0</span>]==y[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (i=y[<span class="number">0</span>]; i&gt;=<span class="number">1</span>; i--)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (y[i]&lt;x[i]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (y[i]&gt;x[i]) <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;=y[<span class="number">0</span>]; i++)</span><br><span class="line"></span><br><span class="line">		x[i]=y[i];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span> m[<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> i,j;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;=n; i++)</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;m[i].a,&amp;m[i].b);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;n; i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (j=<span class="number">1</span>; j&lt;=n-i; j++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (m[j].a*m[j].b&gt;m[j+<span class="number">1</span>].a*m[j+<span class="number">1</span>].b)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">struct</span> <span class="title class_">Node</span> tmp;</span><br><span class="line"></span><br><span class="line">				tmp=m[j];</span><br><span class="line">				m[j]=m[j+<span class="number">1</span>];</span><br><span class="line">				m[j+<span class="number">1</span>]=tmp;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> p[<span class="number">1100</span>];  <span class="comment">// 保存累乘积，每4位1组，p[0]保存位数</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> t[<span class="number">1100</span>];  <span class="comment">// 中间结果</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> ans[<span class="number">1100</span>]; <span class="comment">// 最终答案</span></span><br><span class="line"></span><br><span class="line">	ans[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	ans[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	p[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	p[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">mul</span>(p,m[i<span class="number">-1</span>].a,t);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;=t[<span class="number">0</span>]; j++) p[j]=t[j];</span><br><span class="line"></span><br><span class="line">		<span class="built_in">div</span>(p,m[i].b,t);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">getMax</span>(ans,t);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,ans[ans[<span class="number">0</span>]]);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i=ans[<span class="number">0</span>]<span class="number">-1</span>; i&gt;=<span class="number">1</span>; i--)</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%04d&quot;</span>,ans[i]);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/12/25/%E7%AC%AC%E4%B8%89%E6%AC%A1%E5%91%A8%E8%B5%9B-2022-12-11/" data-id="cld161pfp001mygu89j09gkvz" data-title="“第三次周赛”" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%A8%E8%B5%9B/" rel="tag">周赛</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-week6-answer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/29/week6-answer/" class="article-date">
  <time class="dt-published" datetime="2022-11-29T02:44:35.000Z" itemprop="datePublished">2022-11-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/11/29/week6-answer/">week6 answer</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="本周学习了贪心算法的基础知识以及熟悉了stl的基本操作，贪心算法主要通过思维简化题意和代码，本周题目较简单，难度不大，但有思考量"><a href="#本周学习了贪心算法的基础知识以及熟悉了stl的基本操作，贪心算法主要通过思维简化题意和代码，本周题目较简单，难度不大，但有思考量" class="headerlink" title="本周学习了贪心算法的基础知识以及熟悉了stl的基本操作，贪心算法主要通过思维简化题意和代码，本周题目较简单，难度不大，但有思考量"></a>本周学习了贪心算法的基础知识以及熟悉了stl的基本操作，贪心算法主要通过思维简化题意和代码，本周题目较简单，难度不大，但有思考量</h2><h2 id="1-P1199-NOIP2010-普及组-三国游戏"><a href="#1-P1199-NOIP2010-普及组-三国游戏" class="headerlink" title="1.P1199 [NOIP2010 普及组] 三国游戏 "></a>1.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1199">P1199 [NOIP2010 普及组] 三国游戏 </a></h2><h3 id="本题涵盖博弈论的相关知识，由于计算机一方选择武将的原则是尽量破坏对手下一步将形成的最强组合，因此我们不可能选出默契值最大的组合，但我们可以选择默契值次大的组合；考虑先选择该组合中的一个，而计算机选择对应的最强组合，我们就能选择次强组合。"><a href="#本题涵盖博弈论的相关知识，由于计算机一方选择武将的原则是尽量破坏对手下一步将形成的最强组合，因此我们不可能选出默契值最大的组合，但我们可以选择默契值次大的组合；考虑先选择该组合中的一个，而计算机选择对应的最强组合，我们就能选择次强组合。" class="headerlink" title="本题涵盖博弈论的相关知识，由于计算机一方选择武将的原则是尽量破坏对手下一步将形成的最强组合，因此我们不可能选出默契值最大的组合，但我们可以选择默契值次大的组合；考虑先选择该组合中的一个，而计算机选择对应的最强组合，我们就能选择次强组合。"></a>本题涵盖博弈论的相关知识，由于计算机一方选择武将的原则是尽量破坏对手下一步将形成的最强组合，因此我们不可能选出默契值最大的组合，但我们可以选择默契值次大的组合；考虑先选择该组合中的一个，而计算机选择对应的最强组合，我们就能选择次强组合。</h3><h3 id="总之，我们一定能获胜，因为我们选择了次强组合，而默契值只需要我们通过比较每个武将对应的次大默契值即可。"><a href="#总之，我们一定能获胜，因为我们选择了次强组合，而默契值只需要我们通过比较每个武将对应的次大默契值即可。" class="headerlink" title="总之，我们一定能获胜，因为我们选择了次强组合，而默契值只需要我们通过比较每个武将对应的次大默契值即可。"></a>总之，我们一定能获胜，因为我们选择了次强组合，而默契值只需要我们通过比较每个武将对应的次大默契值即可。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,num,Max;</span><br><span class="line"><span class="type">int</span> vis[<span class="number">505</span>];</span><br><span class="line"><span class="type">int</span> q[<span class="number">505</span>][<span class="number">505</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">			cin&gt;&gt;num;</span><br><span class="line">			q[i][j]=q[j][i]=num;    <span class="comment">//存入默契值</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">sort</span>(q[i]+<span class="number">1</span>,q[i]+n+<span class="number">1</span>,<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;()); <span class="comment">//从大到小排序</span></span><br><span class="line">		Max=<span class="built_in">max</span>(Max,q[i][<span class="number">2</span>]);         <span class="comment">//比较所有次大默契值，选出其中最大</span></span><br><span class="line">	&#125;	</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;1&quot;</span>&lt;&lt;endl&lt;&lt;Max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-独木桥"><a href="#2-独木桥" class="headerlink" title="2.独木桥"></a>2.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1007">独木桥</a></h2><h3 id="要求最短时间的话，需要让桥左侧的士兵向左侧撤离，靠右侧的士兵向右侧撤离，这样不会出现相向而行的情况，时间最短；"><a href="#要求最短时间的话，需要让桥左侧的士兵向左侧撤离，靠右侧的士兵向右侧撤离，这样不会出现相向而行的情况，时间最短；" class="headerlink" title="要求最短时间的话，需要让桥左侧的士兵向左侧撤离，靠右侧的士兵向右侧撤离，这样不会出现相向而行的情况，时间最短；"></a>要求最短时间的话，需要让桥左侧的士兵向左侧撤离，靠右侧的士兵向右侧撤离，这样不会出现相向而行的情况，时间最短；</h3><h3 id="要求最长时间，可以将士兵相遇看做士兵“穿过”对方，这样要使每个士兵撤离时间最长，就让靠左侧的士兵向右侧撤离，靠右侧的士兵向左侧撤离。"><a href="#要求最长时间，可以将士兵相遇看做士兵“穿过”对方，这样要使每个士兵撤离时间最长，就让靠左侧的士兵向右侧撤离，靠右侧的士兵向左侧撤离。" class="headerlink" title="要求最长时间，可以将士兵相遇看做士兵“穿过”对方，这样要使每个士兵撤离时间最长，就让靠左侧的士兵向右侧撤离，靠右侧的士兵向左侧撤离。"></a>要求最长时间，可以将士兵相遇看做士兵“穿过”对方，这样要使每个士兵撤离时间最长，就让靠左侧的士兵向右侧撤离，靠右侧的士兵向左侧撤离。</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">5005</span>],b[<span class="number">5005</span>],c[<span class="number">5005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> l,n;</span><br><span class="line">	cin&gt;&gt;l&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		cin&gt;&gt;a[i];</span><br><span class="line">		b[i]=<span class="built_in">min</span>(l+<span class="number">1</span>-a[i],a[i]);  <span class="comment">//数组b[]储存每个士兵撤离的最短时间</span></span><br><span class="line">		c[i]=<span class="built_in">max</span>(l+<span class="number">1</span>-a[i],a[i]);  <span class="comment">//数组b[]储存每个士兵撤离的最长时间</span></span><br><span class="line">	&#125; </span><br><span class="line">	<span class="built_in">sort</span>(b+<span class="number">1</span>,b+n+<span class="number">1</span>);<span class="built_in">sort</span>(c+<span class="number">1</span>,c+<span class="number">1</span>+n); <span class="comment">//从小到大排序</span></span><br><span class="line">	cout&lt;&lt;b[n]&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;c[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-排队接水"><a href="#3-排队接水" class="headerlink" title="3.排队接水"></a>3.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1223">排队接水</a></h2><h3 id="只需让接水时间短的人先接水，时间长的人后接水，即可使平均等待时间最短"><a href="#只需让接水时间短的人先接水，时间长的人后接水，即可使平均等待时间最短" class="headerlink" title="只需让接水时间短的人先接水，时间长的人后接水，即可使平均等待时间最短"></a>只需让接水时间短的人先接水，时间长的人后接水，即可使平均等待时间最短</h3><h3 id="本题主要练习结构体排序"><a href="#本题主要练习结构体排序" class="headerlink" title="本题主要练习结构体排序"></a>本题主要练习结构体排序</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">tt</span>&#123;              <span class="comment">//通过结构体记录每个人的序号和接水时间</span></span><br><span class="line">	<span class="type">int</span> id;<span class="type">double</span> time;</span><br><span class="line">&#125;a[<span class="number">1000005</span>];</span><br><span class="line"><span class="type">int</span> n;<span class="type">double</span> sum,ave;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(tt a,tt b)</span></span>&#123;      <span class="comment">//结构体排序参数</span></span><br><span class="line">	<span class="keyword">return</span> a.time&lt;b.time;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		a[i].id=i;cin&gt;&gt;a[i].time;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(a+<span class="number">1</span>,a+n+<span class="number">1</span>,cmp);   <span class="comment">//用sort对结构体进行排序</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		cout&lt;&lt;a[i].id&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">		sum+=a[i].time*(n-i);</span><br><span class="line">	&#125; </span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%.2lf&quot;</span>,sum/n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="4-P1090-NOIP2004-提高组-合并果子-x2F-USACO06NOV-Fence-Repair-G"><a href="#4-P1090-NOIP2004-提高组-合并果子-x2F-USACO06NOV-Fence-Repair-G" class="headerlink" title="4.P1090 [NOIP2004 提高组] 合并果子 &#x2F; [USACO06NOV] Fence Repair G"></a>4.<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1090">P1090 [NOIP2004 提高组] 合并果子 &#x2F; [USACO06NOV] Fence Repair G</a></h2><h3 id="每次将数量最小的两个果堆合并即可得到最终答案"><a href="#每次将数量最小的两个果堆合并即可得到最终答案" class="headerlink" title="每次将数量最小的两个果堆合并即可得到最终答案"></a>每次将数量最小的两个果堆合并即可得到最终答案</h3><h3 id="可以用优先队列储存所有果堆并从小到大排序，每次合并队列的最上方两个数据，合并后在存入队列，同时累计体力耗费值"><a href="#可以用优先队列储存所有果堆并从小到大排序，每次合并队列的最上方两个数据，合并后在存入队列，同时累计体力耗费值" class="headerlink" title="可以用优先队列储存所有果堆并从小到大排序，每次合并队列的最上方两个数据，合并后在存入队列，同时累计体力耗费值"></a>可以用优先队列储存所有果堆并从小到大排序，每次合并队列的最上方两个数据，合并后在存入队列，同时累计体力耗费值</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,num,x,y,sum;</span><br><span class="line">priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,greater&lt;<span class="type">int</span>&gt; &gt;q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">while</span>(n--)&#123;</span><br><span class="line">		cin&gt;&gt;num;</span><br><span class="line">		q.<span class="built_in">push</span>(num); </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span>(q.<span class="built_in">size</span>()&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">		x=q.<span class="built_in">top</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">		y=q.<span class="built_in">top</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">		sum+=x+y;    </span><br><span class="line">		q.<span class="built_in">push</span>(x+y);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/11/29/week6-answer/" data-id="cld161pew000fygu86cz98pdi" data-title="week6 answer" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week6/" rel="tag">week6</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BD%9C%E4%B8%9A/" rel="tag">作业</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-第二次周赛-2022-11-26" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/28/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E5%91%A8%E8%B5%9B-2022-11-26/" class="article-date">
  <time class="dt-published" datetime="2022-11-28T02:42:28.000Z" itemprop="datePublished">2022-11-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/11/28/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E5%91%A8%E8%B5%9B-2022-11-26/">第二次周赛</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="本次周赛主要考察了之前学习的dfs和bfs写法，前三题相对较容易，第四题需要通过思维将代码简化以减小复杂度，第五题通过引入三维数组完成"><a href="#本次周赛主要考察了之前学习的dfs和bfs写法，前三题相对较容易，第四题需要通过思维将代码简化以减小复杂度，第五题通过引入三维数组完成" class="headerlink" title="本次周赛主要考察了之前学习的dfs和bfs写法，前三题相对较容易，第四题需要通过思维将代码简化以减小复杂度，第五题通过引入三维数组完成"></a>本次周赛主要考察了之前学习的dfs和bfs写法，前三题相对较容易，第四题需要通过思维将代码简化以减小复杂度，第五题通过引入三维数组完成</h2><h2 id="1-输出全排列"><a href="#1-输出全排列" class="headerlink" title="1.输出全排列"></a>1.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1596491914696982528/exam/problems/1596492076261572608">输出全排列</a></h2><h3 id="朴实无华的dfs写法"><a href="#朴实无华的dfs写法" class="headerlink" title="朴实无华的dfs写法"></a>朴实无华的dfs写法</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> vis[<span class="number">15</span>],a[<span class="number">15</span>]; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(x==n+<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,a[i]);</span><br><span class="line">		cout&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!vis[i])&#123;</span><br><span class="line">			a[x]=i;</span><br><span class="line">			vis[i]=<span class="number">1</span>;</span><br><span class="line">			<span class="built_in">dfs</span>(x+<span class="number">1</span>);</span><br><span class="line">			vis[i]=<span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-山"><a href="#2-山" class="headerlink" title="2.山"></a>2.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1596491914696982528/exam/problems/1596492076261572609">山</a></h2><h3 id="对每一格进行检查，若遇到山-1-cnt-1-并从此格开始搜索，同时进行挖平处理-改为0"><a href="#对每一格进行检查，若遇到山-1-cnt-1-并从此格开始搜索，同时进行挖平处理-改为0" class="headerlink" title="对每一格进行检查，若遇到山(1),cnt+1,并从此格开始搜索，同时进行挖平处理(改为0)"></a>对每一格进行检查，若遇到山(1),cnt+1,并从此格开始搜索，同时进行挖平处理(改为0)</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,cnt;</span><br><span class="line"><span class="type">int</span> vis[<span class="number">2005</span>][<span class="number">2005</span>],a[<span class="number">2005</span>][<span class="number">2005</span>]; </span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">-1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,dy[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">	a[x][y]=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">		<span class="type">int</span> nx=x+dx[i],ny=y+dy[i];</span><br><span class="line">		<span class="keyword">if</span>(nx&gt;=<span class="number">1</span>&amp;&amp;nx&lt;=n&amp;&amp;ny&gt;=<span class="number">1</span>&amp;&amp;ny&lt;=m&amp;&amp;a[nx][ny])&#123;</span><br><span class="line">			<span class="built_in">dfs</span>(nx,ny);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">			cin&gt;&gt;a[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(a[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">				<span class="built_in">dfs</span>(i,j);</span><br><span class="line">				cnt++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-跳跃"><a href="#3-跳跃" class="headerlink" title="3.跳跃"></a>3.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1596491914696982528/exam/problems/1596492076261572610">跳跃</a></h2><h3 id="从起点开始向上-x2F-下用dfs搜索，直至找到出口"><a href="#从起点开始向上-x2F-下用dfs搜索，直至找到出口" class="headerlink" title="从起点开始向上&#x2F;下用dfs搜索，直至找到出口"></a>从起点开始向上&#x2F;下用dfs搜索，直至找到出口</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,ans,st;</span><br><span class="line"><span class="type">int</span> m[<span class="number">50005</span>];</span><br><span class="line"><span class="type">int</span> vis[<span class="number">50005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(m[x]==<span class="number">0</span>) &#123;</span><br><span class="line">		ans=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(x+m[x]&lt;n&amp;&amp;!vis[x+m[x]])&#123;</span><br><span class="line">		vis[x+m[x]]=<span class="number">1</span>;</span><br><span class="line">		<span class="built_in">dfs</span>(x+m[x]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(x-m[x]&gt;=<span class="number">1</span>&amp;&amp;!vis[x-m[x]])&#123;</span><br><span class="line">		vis[x-m[x]]=<span class="number">1</span>;</span><br><span class="line">		<span class="built_in">dfs</span>(x-m[x]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++) cin&gt;&gt;m[i];</span><br><span class="line">	cin&gt;&gt;st;</span><br><span class="line">	vis[st]=<span class="number">1</span>;</span><br><span class="line">	<span class="built_in">dfs</span>(st);</span><br><span class="line">	<span class="keyword">if</span>(ans) cout&lt;&lt;<span class="string">&quot;True&quot;</span>;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;False&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-回文数文回"><a href="#4-回文数文回" class="headerlink" title="4.回文数文回"></a>4.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1596491914696982528/exam/problems/1596492076261572612">回文数文回</a></h2><h3 id="按照普通思路对结果一一列举容易超时，可以从回文数的形成入手，先指定前四位数，后四位数是前四位数的倒转，再对中间独立的数字依次列举组成九位数，若该九位数小于n，则cnt-；"><a href="#按照普通思路对结果一一列举容易超时，可以从回文数的形成入手，先指定前四位数，后四位数是前四位数的倒转，再对中间独立的数字依次列举组成九位数，若该九位数小于n，则cnt-；" class="headerlink" title="按照普通思路对结果一一列举容易超时，可以从回文数的形成入手，先指定前四位数，后四位数是前四位数的倒转，再对中间独立的数字依次列举组成九位数，若该九位数小于n，则cnt++；"></a>按照普通思路对结果一一列举容易超时，可以从回文数的形成入手，先指定前四位数，后四位数是前四位数的倒转，再对中间独立的数字依次列举组成九位数，若该九位数小于n，则cnt++；</h3><h3 id="由于只要前四位数小于n的前四位数，该九位数就一定小于n；因此每一个小于n的四位数都对应10种可能（第五位数有10种可能）；因此只需计算前四位数等于n的前四位数的可行数量：将前四位数指定为n的前四位数，后四位倒置，以此列举第五位数，判断是否小于n即可；"><a href="#由于只要前四位数小于n的前四位数，该九位数就一定小于n；因此每一个小于n的四位数都对应10种可能（第五位数有10种可能）；因此只需计算前四位数等于n的前四位数的可行数量：将前四位数指定为n的前四位数，后四位倒置，以此列举第五位数，判断是否小于n即可；" class="headerlink" title="由于只要前四位数小于n的前四位数，该九位数就一定小于n；因此每一个小于n的四位数都对应10种可能（第五位数有10种可能）；因此只需计算前四位数等于n的前四位数的可行数量：将前四位数指定为n的前四位数，后四位倒置，以此列举第五位数，判断是否小于n即可；"></a>由于只要前四位数小于n的前四位数，该九位数就一定小于n；因此每一个小于n的四位数都对应10种可能（第五位数有10种可能）；因此只需计算前四位数等于n的前四位数的可行数量：将前四位数指定为n的前四位数，后四位倒置，以此列举第五位数，判断是否小于n即可；</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">du</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;    <span class="comment">//倒置处理</span></span><br><span class="line">	<span class="type">int</span> y=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(x!=<span class="number">0</span>)&#123;</span><br><span class="line">		<span class="type">int</span> m=x%<span class="number">10</span>;x/=<span class="number">10</span>;</span><br><span class="line">		y=y*<span class="number">10</span>+m;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> a=n/<span class="number">100000</span>,b=n%<span class="number">100000</span>/<span class="number">10000</span>;</span><br><span class="line">	<span class="type">int</span> cnt=(a<span class="number">-1000</span>)*<span class="number">10</span>;   <span class="comment">//每10000个数就有1个回文数</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">9</span>;i++)&#123;  <span class="comment">//前四位数与n相等的回文数</span></span><br><span class="line">		<span class="type">int</span> num=a*<span class="number">100000</span>+i*<span class="number">10000</span>+<span class="built_in">du</span>(a);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(num&lt;=n)&#123;</span><br><span class="line">			cnt++;</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-最长光路"><a href="#5-最长光路" class="headerlink" title="5.最长光路"></a>5.<a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1596491914696982528/exam/problems/1596492076261572611">最长光路</a></h2><h3 id="本题通过列举从不同方向射出的光线所能走过的最多格子，建立三维数组vis-x-y-u-x2F-r-x2F-d-x2F-l-通过dfs搜索，若vis-x-y-u-x2F-r-x2F-d-x2F-l-x3D-1-说明形成光环，结束搜索；若射出盒子或被吸收也结束搜索；"><a href="#本题通过列举从不同方向射出的光线所能走过的最多格子，建立三维数组vis-x-y-u-x2F-r-x2F-d-x2F-l-通过dfs搜索，若vis-x-y-u-x2F-r-x2F-d-x2F-l-x3D-1-说明形成光环，结束搜索；若射出盒子或被吸收也结束搜索；" class="headerlink" title="本题通过列举从不同方向射出的光线所能走过的最多格子，建立三维数组vis[x][y][u&#x2F;r&#x2F;d&#x2F;l],通过dfs搜索，若vis[x][y][u&#x2F;r&#x2F;d&#x2F;l]&#x3D;1,说明形成光环，结束搜索；若射出盒子或被吸收也结束搜索；"></a>本题通过列举从不同方向射出的光线所能走过的最多格子，建立三维数组vis[x][y][u&#x2F;r&#x2F;d&#x2F;l],通过dfs搜索，若vis[x][y][u&#x2F;r&#x2F;d&#x2F;l]&#x3D;1,说明形成光环，结束搜索；若射出盒子或被吸收也结束搜索；</h3><h3 id="将每次搜索所经过的格子总数与之前的最大值比较并更新，可将形成光环的格子总数设为INF，方便比较"><a href="#将每次搜索所经过的格子总数与之前的最大值比较并更新，可将形成光环的格子总数设为INF，方便比较" class="headerlink" title="将每次搜索所经过的格子总数与之前的最大值比较并更新，可将形成光环的格子总数设为INF，方便比较"></a>将每次搜索所经过的格子总数与之前的最大值比较并更新，可将形成光环的格子总数设为INF，方便比较</h3><h3 id="另外注意即使被吸收也要统计格子总数并比较"><a href="#另外注意即使被吸收也要统计格子总数并比较" class="headerlink" title="另外注意即使被吸收也要统计格子总数并比较"></a>另外注意即使被吸收也要统计格子总数并比较</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">0x3f3f3f</span>;</span><br><span class="line"><span class="type">int</span> n,m,sx,sy;</span><br><span class="line"><span class="type">int</span> ans,cnt,Max,num; </span><br><span class="line">string s;</span><br><span class="line"><span class="type">int</span> a[<span class="number">505</span>][<span class="number">505</span>];</span><br><span class="line"><span class="type">int</span> vis[<span class="number">505</span>][<span class="number">505</span>][<span class="number">4</span>];</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dx[<span class="number">5</span>]= &#123;<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;; <span class="comment">//分别对应上、右、下、左</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dy[<span class="number">5</span>]= &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> t)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> nx=x+dx[t],ny=y+dy[t];</span><br><span class="line">	<span class="keyword">if</span>(nx&lt;=<span class="number">0</span>||nx&gt;n||ny&lt;=<span class="number">0</span>||ny&gt;m)&#123;  <span class="comment">//射出盒子</span></span><br><span class="line">		ans=<span class="number">1</span>;<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(vis[nx][ny][t])&#123;        <span class="comment">//形成光环</span></span><br><span class="line">		ans=<span class="number">1</span>;cnt=INF;<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(a[nx][ny]==<span class="number">0</span>)&#123;    </span><br><span class="line">		cnt++;</span><br><span class="line">		vis[nx][ny][t]=<span class="number">1</span>;</span><br><span class="line">		<span class="built_in">dfs</span>(nx,ny,t);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(a[nx][ny]==<span class="number">1</span>)&#123;  <span class="comment">//被吸收</span></span><br><span class="line">		ans=<span class="number">1</span>;<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(a[nx][ny]==<span class="number">2</span>)&#123;  <span class="comment">//遇到镜子1</span></span><br><span class="line">		cnt++;</span><br><span class="line">		<span class="keyword">if</span>(t==<span class="number">2</span>) <span class="built_in">dfs</span>(nx,ny,<span class="number">1</span>);<span class="comment">//右 </span></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(t==<span class="number">4</span>) <span class="built_in">dfs</span>(nx,ny,<span class="number">3</span>);<span class="comment">//左 </span></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(t==<span class="number">1</span>) <span class="built_in">dfs</span>(nx,ny,<span class="number">2</span>);<span class="comment">//上 </span></span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">dfs</span>(nx,ny,<span class="number">4</span>);<span class="comment">//下 </span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;                   <span class="comment">//遇到镜子2</span></span><br><span class="line">		cnt++;</span><br><span class="line">		<span class="keyword">if</span>(t==<span class="number">2</span>) <span class="built_in">dfs</span>(nx,ny,<span class="number">3</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(t==<span class="number">4</span>) <span class="built_in">dfs</span>(nx,ny,<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(t==<span class="number">1</span>) <span class="built_in">dfs</span>(nx,ny,<span class="number">4</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">dfs</span>(nx,ny,<span class="number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">		cin&gt;&gt;s;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>; j&lt;m; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(s[j]==<span class="string">&#x27;C&#x27;</span>) a[i][j+<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(s[j]==<span class="string">&#x27;.&#x27;</span>) a[i][j+<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span>(s[j]==<span class="string">&#x27;/&#x27;</span>) a[i][j+<span class="number">1</span>]=<span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span>(s[j]==<span class="string">&#x27;\\&#x27;</span>) a[i][j+<span class="number">1</span>]=<span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cin&gt;&gt;sx&gt;&gt;sy;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">4</span>; i++) &#123;</span><br><span class="line">		ans=<span class="number">0</span>,cnt=<span class="number">1</span>;              <span class="comment">//注意每次搜索前都应初始化相关数据</span></span><br><span class="line">		<span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="built_in">sizeof</span>(vis));</span><br><span class="line">		vis[sx][sy][i]=<span class="number">1</span>;</span><br><span class="line">		<span class="built_in">dfs</span>(sx,sy,i);</span><br><span class="line">		<span class="keyword">if</span>(ans) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cnt&gt;Max)&#123;       <span class="comment">//将形成光环时格子数量设为INF的便利之处</span></span><br><span class="line">				Max=cnt;</span><br><span class="line">				num=i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">		<span class="keyword">if</span>(num==<span class="number">1</span>) cout&lt;&lt;<span class="string">&quot;U&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">if</span>(num==<span class="number">2</span>) cout&lt;&lt;<span class="string">&quot;R&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">if</span>(num==<span class="number">3</span>) cout&lt;&lt;<span class="string">&quot;D&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">if</span>(num==<span class="number">4</span>) cout&lt;&lt;<span class="string">&quot;L&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">if</span>(Max&lt;INF) cout&lt;&lt;Max&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;COOL&quot;</span>&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/11/28/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E5%91%A8%E8%B5%9B-2022-11-26/" data-id="cld161pfo001lygu81vj29vgb" data-title="第二次周赛" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%A8%E8%B5%9B/" rel="tag">周赛</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%AC%E4%BA%8C%E6%AC%A1/" rel="tag">第二次</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/25/%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2022-11-25T14:40:29.000Z" itemprop="datePublished">2022-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/11/25/%E7%AC%94%E8%AE%B0/">笔记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h2><h2 id="长度不确定的数组"><a href="#长度不确定的数组" class="headerlink" title=":长度不确定的数组"></a>:长度不确定的数组</h2><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector &lt;<span class="type">char</span>&gt; v; <span class="comment">// vector默认长度是0， 类型可以是c++的标准类型，也可以是自己定义的类或结构体</span></span><br><span class="line">vector &lt;<span class="type">int</span>&gt; <span class="built_in">v</span>(N); <span class="comment">// 效果类似int v[N];但是N可以是变量</span></span><br><span class="line">vector &lt;<span class="type">int</span>&gt; <span class="built_in">v</span>(N, i); <span class="comment">// 可变数组最开始有N个元素，每个元素的值是i,i可以省略不写</span></span><br><span class="line">vector &lt; vector&lt;<span class="type">int</span>&gt; &gt; v; <span class="comment">// &gt; &gt; 分开写，有的编译器不分开会当成右移符合&gt;&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="size"><a href="#size" class="headerlink" title="size()"></a>size()</h2><h2 id="resize"><a href="#resize" class="headerlink" title="resize()"></a>resize()</h2><h2 id="push-back"><a href="#push-back" class="headerlink" title="push_back()"></a>push_back()</h2><h2 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h2><p><strong>1.头文件</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span><span class="comment">// 队列 </span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span><span class="comment">//栈</span></span></span><br></pre></td></tr></table></figure>

<p><strong>2.定义方式</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">stack&lt;<span class="type">int</span>&gt;  s;<span class="comment">//参数也是数据类型，这是栈的定义方式</span></span><br><span class="line">queue&lt;<span class="type">int</span>&gt;  q; <span class="comment">//参数是数据类型，这是队列的定义方式</span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,greater&lt;<span class="type">int</span>&gt; &gt;q;  <span class="comment">//优先队列：从小到大</span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,less&lt;<span class="type">int</span>&gt; &gt;q;   <span class="comment">//优先队列：从大到小</span></span><br></pre></td></tr></table></figure>

<p><strong>3.常用操作</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">栈：</span><br><span class="line">s.<span class="built_in">empty</span>()<span class="comment">//如果栈为空返回true，否则返回false  </span></span><br><span class="line">s.<span class="built_in">size</span>()<span class="comment">//返回栈中元素的个数  </span></span><br><span class="line">s.<span class="built_in">pop</span>()<span class="comment">//删除栈顶元素但不返回其值  </span></span><br><span class="line">s.<span class="built_in">top</span>()<span class="comment">//返回栈顶的元素，但不删除该元素  </span></span><br><span class="line">s.<span class="built_in">push</span>(X)<span class="comment">//在栈顶压入新元素 ，参数X为要压入的元素</span></span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">队列：</span><br><span class="line">q.<span class="built_in">empty</span>()<span class="comment">// 如果队列为空返回true，否则返回false  </span></span><br><span class="line">q.<span class="built_in">size</span>() <span class="comment">// 返回队列中元素的个数  </span></span><br><span class="line">q.<span class="built_in">pop</span>()  <span class="comment">//删除队列首元素但不返回其值  </span></span><br><span class="line">q.<span class="built_in">front</span>()  <span class="comment">// 返回队首元素的值，但不删除该元素  </span></span><br><span class="line">q.<span class="built_in">push</span>(X) <span class="comment">//在队尾压入新元素 ，X为要压入的元素</span></span><br><span class="line">q.<span class="built_in">back</span>() <span class="comment">//返回队列尾元素的值，但不删除该元素  </span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/11/25/%E7%AC%94%E8%AE%B0/" data-id="cld161pf6000pygu8b1p7hvxi" data-title="笔记" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/answer/" rel="tag">answer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week-12/" rel="tag">week 12</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week1/" rel="tag">week1</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week10/" rel="tag">week10</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week11/" rel="tag">week11</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week2/" rel="tag">week2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week3/" rel="tag">week3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week4/" rel="tag">week4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week5/" rel="tag">week5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week6/" rel="tag">week6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week7/" rel="tag">week7</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week8/" rel="tag">week8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week9/" rel="tag">week9</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BD%9C%E4%B8%9A/" rel="tag">作业</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%A8%E8%B5%9B/" rel="tag">周赛</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%AC%E4%B8%80%E6%AC%A1/" rel="tag">第一次</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%AC%E4%BA%8C%E6%AC%A1/" rel="tag">第二次</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/answer/" style="font-size: 20px;">answer</a> <a href="/tags/week-12/" style="font-size: 10px;">week 12</a> <a href="/tags/week1/" style="font-size: 10px;">week1</a> <a href="/tags/week10/" style="font-size: 10px;">week10</a> <a href="/tags/week11/" style="font-size: 10px;">week11</a> <a href="/tags/week2/" style="font-size: 10px;">week2</a> <a href="/tags/week3/" style="font-size: 10px;">week3</a> <a href="/tags/week4/" style="font-size: 10px;">week4</a> <a href="/tags/week5/" style="font-size: 10px;">week5</a> <a href="/tags/week6/" style="font-size: 10px;">week6</a> <a href="/tags/week7/" style="font-size: 10px;">week7</a> <a href="/tags/week8/" style="font-size: 10px;">week8</a> <a href="/tags/week9/" style="font-size: 10px;">week9</a> <a href="/tags/%E4%BD%9C%E4%B8%9A/" style="font-size: 20px;">作业</a> <a href="/tags/%E5%91%A8%E8%B5%9B/" style="font-size: 15px;">周赛</a> <a href="/tags/%E7%AC%AC%E4%B8%80%E6%AC%A1/" style="font-size: 10px;">第一次</a> <a href="/tags/%E7%AC%AC%E4%BA%8C%E6%AC%A1/" style="font-size: 10px;">第二次</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/01/18/week12-answer/">week12-answer</a>
          </li>
        
          <li>
            <a href="/2023/01/16/week11-answer/">week11-answer</a>
          </li>
        
          <li>
            <a href="/2023/01/03/week10-answer/">week10-answer</a>
          </li>
        
          <li>
            <a href="/2023/01/01/week9-answer/">week9-answer</a>
          </li>
        
          <li>
            <a href="/2022/12/25/week8-answer/">week8-answer</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>